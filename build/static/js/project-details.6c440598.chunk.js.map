{"version":3,"file":"static/js/project-details.6c440598.chunk.js","mappings":"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","sources":["shared-components/feedback-snackbar/FeedbackSnackbarNew.tsx","shared-components/risk-warning/RiskWarning.tsx","../node_modules/@material-ui/core/esm/StepButton/StepButton.js","../node_modules/@material-ui/core/esm/StepContent/StepContent.js","../node_modules/@material-ui/core/esm/DialogContentText/DialogContentText.js","shared-components/documents-download/DocumentsDownload.tsx","pages/project-details/components/contact-pitch-owner-dialog/ContactPitchOwnerDialog.tsx","pages/project-details/ProjectDetails.jsx","../node_modules/@material-ui/lab/esm/internal/svg-icons/SuccessOutlined.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/ReportProblemOutlined.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/ErrorOutline.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/InfoOutlined.js","../node_modules/@material-ui/lab/esm/internal/svg-icons/Close.js","../node_modules/@material-ui/lab/esm/Alert/Alert.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppState} from \"../../redux-store/reducers\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AnyAction} from \"redux\";\r\nimport {Slide, SlideProps, Snackbar} from \"@material-ui/core\";\r\nimport {FeedbackSnackbarState} from \"./FeedbackSnackbarReducer\";\r\nimport {closeFeedbackSnackbar} from \"./FeedbackSnackbarActions\";\r\nimport {Alert} from \"@material-ui/lab\";\r\n\r\ninterface FeedbackSnackbarProps {\r\n    FeedbackSnackbarLocalState: FeedbackSnackbarState;\r\n    close: () => any;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n    return {\r\n        FeedbackSnackbarLocalState: state.FeedbackSnackbarLocalState\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\r\n    return {\r\n        close: () => dispatch(closeFeedbackSnackbar())\r\n    }\r\n}\r\n\r\nclass FeedbackSnackbarNew extends Component<FeedbackSnackbarProps, any> {\r\n    render() {\r\n        const {\r\n            FeedbackSnackbarLocalState,\r\n            close\r\n        } = this.props;\r\n\r\n        return <Snackbar\r\n            open={FeedbackSnackbarLocalState.open}\r\n            anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"center\",\r\n            }}\r\n            autoHideDuration={2500}\r\n            onClose={close}\r\n            TransitionComponent={SlideTransitionUp}\r\n            transitionDuration={{\r\n                enter: 130,\r\n                exit: 130\r\n            }}\r\n        >\r\n            <Alert variant=\"filled\" severity={FeedbackSnackbarLocalState.type} onClose={close}>{FeedbackSnackbarLocalState.message}</Alert>\r\n        </Snackbar>;\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FeedbackSnackbarNew);\r\n\r\n/**\r\n * Slide transition - direction up\r\n *\r\n * @param props\r\n * @returns {*}\r\n * @constructor\r\n */\r\nexport const SlideTransitionUp = React.forwardRef((props: SlideProps, ref) => <Slide {...props} ref={ref}\r\n                                                                                     direction=\"up\"/>);","import React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppState} from \"../../redux-store/reducers\";\r\nimport {ManageSystemAttributesState} from \"../../redux-store/reducers/manageSystemAttributesReducer\";\r\nimport {getGroupRouteTheme, ManageGroupUrlState} from \"../../redux-store/reducers/manageGroupUrlReducer\";\r\nimport {Box, colors, Typography} from \"@material-ui/core\";\r\nimport Routes from \"../../router/routes\";\r\nimport CustomLink from \"../../shared-js-css-styles/CustomLink\";\r\n\r\ninterface RiskWarningProps {\r\n    ManageSystemAttributesState: ManageSystemAttributesState;\r\n    ManageGroupUrlState: ManageGroupUrlState;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n    return {\r\n        ManageSystemAttributesState: state.ManageSystemAttributesState,\r\n        ManageGroupUrlState: state.ManageGroupUrlState\r\n    }\r\n}\r\n\r\nclass RiskWarning extends Component<RiskWarningProps, any> {\r\n    render() {\r\n        const {\r\n            ManageSystemAttributesState,\r\n            ManageGroupUrlState\r\n        } = this.props;\r\n\r\n        if (!ManageSystemAttributesState.systemAttributes) {\r\n            return null;\r\n        }\r\n\r\n        let riskWarningFooter = ManageSystemAttributesState.systemAttributes.riskWarningFooter;\r\n        riskWarningFooter = riskWarningFooter\r\n            .split(\"%groupName%\")\r\n            .join(ManageGroupUrlState.group\r\n                ? ManageGroupUrlState.group.displayName\r\n                : \"Invest West\"\r\n            );\r\n\r\n        let splits = riskWarningFooter.split(\"%URL%\");\r\n\r\n        const urlText = splits[1];\r\n\r\n        return <Box\r\n            border={`1px solid ${colors.grey[\"600\"]}`}\r\n            borderRadius=\"24px\"\r\n            padding=\"24px\"\r\n            bgcolor={colors.grey[\"100\"]}\r\n        >\r\n            <Typography variant=\"body1\" align=\"left\" ><u>Risk warning</u></Typography>\r\n            <Box marginTop=\"18px\" whiteSpace=\"pre-line\" >\r\n                <Typography variant=\"body1\" align=\"justify\" >\r\n                    {splits[0]}\r\n                    <CustomLink\r\n                        url={Routes.nonGroupRiskWarning}\r\n                        target=\"_blank\"\r\n                        color={getGroupRouteTheme(ManageGroupUrlState).palette.error.main}\r\n                        activeColor=\"none\"\r\n                        activeUnderline={true}\r\n                        component=\"nav-link\"\r\n                        childComponent={ urlText }\r\n                    />\r\n                    {splits[2]}\r\n                </Typography>\r\n            </Box>\r\n        </Box>;\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(RiskWarning);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ButtonBase from '../ButtonBase';\nimport StepLabel from '../StepLabel';\nimport isMuiElement from '../utils/isMuiElement';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    width: '100%',\n    padding: '24px 16px',\n    margin: '-24px -16px',\n    boxSizing: 'content-box'\n  },\n\n  /* Styles applied to the root element if `orientation=\"horizontal\"`. */\n  horizontal: {},\n\n  /* Styles applied to the root element if `orientation=\"vertical\"`. */\n  vertical: {\n    justifyContent: 'flex-start',\n    padding: '8px',\n    margin: '-8px'\n  },\n\n  /* Styles applied to the `ButtonBase` touch-ripple. */\n  touchRipple: {\n    color: 'rgba(0, 0, 0, 0.3)'\n  }\n};\nvar StepButton = /*#__PURE__*/React.forwardRef(function StepButton(props, ref) {\n  var active = props.active,\n      alternativeLabel = props.alternativeLabel,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      completed = props.completed,\n      disabled = props.disabled,\n      expanded = props.expanded,\n      icon = props.icon,\n      last = props.last,\n      optional = props.optional,\n      orientation = props.orientation,\n      other = _objectWithoutProperties(props, [\"active\", \"alternativeLabel\", \"children\", \"classes\", \"className\", \"completed\", \"disabled\", \"expanded\", \"icon\", \"last\", \"optional\", \"orientation\"]);\n\n  var childProps = {\n    active: active,\n    alternativeLabel: alternativeLabel,\n    completed: completed,\n    disabled: disabled,\n    icon: icon,\n    optional: optional,\n    orientation: orientation\n  };\n  var child = isMuiElement(children, ['StepLabel']) ? /*#__PURE__*/React.cloneElement(children, childProps) : /*#__PURE__*/React.createElement(StepLabel, childProps, children);\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    focusRipple: true,\n    disabled: disabled,\n    TouchRippleProps: {\n      className: classes.touchRipple\n    },\n    className: clsx(classes.root, classes[orientation], className),\n    ref: ref\n  }, other), child);\n});\nprocess.env.NODE_ENV !== \"production\" ? StepButton.propTypes = {\n  /**\n   * @ignore\n   * Passed in via `Step` - passed through to `StepLabel`.\n   */\n  active: PropTypes.bool,\n\n  /**\n   * @ignore\n   * Set internally by Stepper when it's supplied with the alternativeLabel property.\n   */\n  alternativeLabel: PropTypes.bool,\n\n  /**\n   * Can be a `StepLabel` or a node to place inside `StepLabel` as children.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * @ignore\n   * Sets completed styling. Is passed to StepLabel.\n   */\n  completed: PropTypes.bool,\n\n  /**\n   * @ignore\n   * Disables the button and sets disabled styling. Is passed to StepLabel.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * @ignore\n   * potentially passed from parent `Step`\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * The icon displayed by the step label.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  last: PropTypes.bool,\n\n  /**\n   * The optional node to display.\n   */\n  optional: PropTypes.node,\n\n  /**\n   * @ignore\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiStepButton'\n})(StepButton);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport Collapse from '../Collapse';\nimport withStyles from '../styles/withStyles';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      marginTop: 8,\n      marginLeft: 12,\n      // half icon\n      paddingLeft: 8 + 12,\n      // margin + half icon\n      paddingRight: 8,\n      borderLeft: \"1px solid \".concat(theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[600])\n    },\n\n    /* Styles applied to the root element if `last={true}` (controlled by `Step`). */\n    last: {\n      borderLeft: 'none'\n    },\n\n    /* Styles applied to the Transition component. */\n    transition: {}\n  };\n};\nvar StepContent = /*#__PURE__*/React.forwardRef(function StepContent(props, ref) {\n  var active = props.active,\n      alternativeLabel = props.alternativeLabel,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      completed = props.completed,\n      expanded = props.expanded,\n      last = props.last,\n      optional = props.optional,\n      orientation = props.orientation,\n      _props$TransitionComp = props.TransitionComponent,\n      TransitionComponent = _props$TransitionComp === void 0 ? Collapse : _props$TransitionComp,\n      _props$transitionDura = props.transitionDuration,\n      transitionDurationProp = _props$transitionDura === void 0 ? 'auto' : _props$transitionDura,\n      TransitionProps = props.TransitionProps,\n      other = _objectWithoutProperties(props, [\"active\", \"alternativeLabel\", \"children\", \"classes\", \"className\", \"completed\", \"expanded\", \"last\", \"optional\", \"orientation\", \"TransitionComponent\", \"transitionDuration\", \"TransitionProps\"]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (orientation !== 'vertical') {\n      console.error('Material-UI: <StepContent /> is only designed for use with the vertical stepper.');\n    }\n  }\n\n  var transitionDuration = transitionDurationProp;\n\n  if (transitionDurationProp === 'auto' && !TransitionComponent.muiSupportAuto) {\n    transitionDuration = undefined;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, last && classes.last),\n    ref: ref\n  }, other), /*#__PURE__*/React.createElement(TransitionComponent, _extends({\n    in: active || expanded,\n    className: classes.transition,\n    timeout: transitionDuration,\n    unmountOnExit: true\n  }, TransitionProps), children));\n});\nprocess.env.NODE_ENV !== \"production\" ? StepContent.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Step content.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the transition.\n   * [Follow this guide](/components/transitions/#transitioncomponent-prop) to learn more about the requirements for this component.\n   */\n  TransitionComponent: PropTypes.elementType,\n\n  /**\n   * Adjust the duration of the content expand transition.\n   * Passed as a prop to the transition component.\n   *\n   * Set to 'auto' to automatically calculate transition time based on height.\n   */\n  transitionDuration: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number, PropTypes.shape({\n    appear: PropTypes.number,\n    enter: PropTypes.number,\n    exit: PropTypes.number\n  })]),\n\n  /**\n   * Props applied to the [`Transition`](http://reactcommunity.org/react-transition-group/transition#Transition-props) element.\n   */\n  TransitionProps: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiStepContent'\n})(StepContent);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport withStyles from '../styles/withStyles';\nimport Typography from '../Typography';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    marginBottom: 12\n  }\n};\nvar DialogContentText = /*#__PURE__*/React.forwardRef(function DialogContentText(props, ref) {\n  return /*#__PURE__*/React.createElement(Typography, _extends({\n    component: \"p\",\n    variant: \"body1\",\n    color: \"textSecondary\",\n    ref: ref\n  }, props));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContentText.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiDialogContentText'\n})(DialogContentText);","/* eslint-disable jsx-a11y/img-redundant-alt */\r\nimport React, {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppState} from \"../../redux-store/reducers\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AnyAction} from \"redux\";\r\nimport {PitchDocument} from \"../../models/project\";\r\nimport {\r\n    Box,\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    List,\r\n    ListItem,\r\n    Typography\r\n} from \"@material-ui/core\";\r\nimport {DocumentsDownloadState} from \"./DocumentsDownloadReducer\";\r\nimport {onAcceptRiskWarningClick, onCancelRiskWarningClick, onDocumentClick} from \"./DocumentsDownloadActions\";\r\nimport {css} from \"aphrodite\";\r\nimport sharedStyles from \"../../shared-js-css-styles/SharedStyles\";\r\nimport {ManageSystemAttributesState} from \"../../redux-store/reducers/manageSystemAttributesReducer\";\r\nimport {getGroupRouteTheme, ManageGroupUrlState} from \"../../redux-store/reducers/manageGroupUrlReducer\";\r\nimport CustomLink from \"../../shared-js-css-styles/CustomLink\";\r\nimport Routes from \"../../router/routes\";\r\n\r\ninterface DocumentsDownloadProps {\r\n    ManageSystemAttributesState: ManageSystemAttributesState;\r\n    ManageGroupUrlState: ManageGroupUrlState;\r\n    documents: PitchDocument[];\r\n    shouldShowRiskWarningOnDownload?: boolean;\r\n    DocumentsDownloadLocalState: DocumentsDownloadState;\r\n    onDocumentClick: (document: PitchDocument, shouldShowRiskWarning: boolean) => any;\r\n    onAcceptRiskWarningClick: () => any;\r\n    onCancelRiskWarningClick: () => any;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState) => {\r\n    return {\r\n        ManageSystemAttributesState: state.ManageSystemAttributesState,\r\n        ManageGroupUrlState: state.ManageGroupUrlState,\r\n        DocumentsDownloadLocalState: state.DocumentsDownloadLocalState\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\r\n    return {\r\n        onDocumentClick: (document: PitchDocument, shouldShowRiskWarning: boolean) => dispatch(onDocumentClick(document, shouldShowRiskWarning)),\r\n        onAcceptRiskWarningClick: () => dispatch(onAcceptRiskWarningClick()),\r\n        onCancelRiskWarningClick: () => dispatch(onCancelRiskWarningClick())\r\n    }\r\n}\r\n\r\nclass DocumentsDownload extends Component<DocumentsDownloadProps, any> {\r\n    render() {\r\n        const {\r\n            ManageSystemAttributesState,\r\n            ManageGroupUrlState,\r\n            documents,\r\n            shouldShowRiskWarningOnDownload,\r\n            DocumentsDownloadLocalState,\r\n            onDocumentClick,\r\n            onAcceptRiskWarningClick,\r\n            onCancelRiskWarningClick\r\n        } = this.props;\r\n\r\n        if (!documents || documents.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        if (!ManageSystemAttributesState.systemAttributes) {\r\n            return null;\r\n        }\r\n\r\n        let riskWarningFooter = ManageSystemAttributesState.systemAttributes.riskWarningFooter;\r\n        riskWarningFooter = riskWarningFooter\r\n            .split(\"%groupName%\")\r\n            .join(ManageGroupUrlState.group\r\n                ? ManageGroupUrlState.group.displayName\r\n                : \"Invest West\"\r\n            );\r\n\r\n        let riskWarningTextSplits = riskWarningFooter.split(\"%URL%\");\r\n\r\n        return <Box\r\n            marginTop=\"20px\"\r\n        >\r\n            <List>\r\n                {\r\n                    documents.map((document, index) => (\r\n                        document.removed !== undefined && document.removed\r\n                            ? null\r\n                            : <ListItem\r\n                                key={index}\r\n                                button\r\n                                onClick={() => onDocumentClick(document, shouldShowRiskWarningOnDownload ?? false)}\r\n                            >\r\n                                <img\r\n                                    alt=\"Document image\"\r\n                                    src={require(\"../../img/document_icon.png\").default}\r\n                                    width={48}\r\n                                    height={48}\r\n                                />\r\n                                <Box display=\"flex\" flexDirection=\"row\" >\r\n                                    <Typography variant=\"body2\" align=\"left\">{document.fileName}</Typography>\r\n                                    <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">{document.readableSize}</Typography>\r\n                                </Box>\r\n                            </ListItem>\r\n                    ))\r\n                }\r\n            </List>\r\n\r\n            <Dialog\r\n                open={DocumentsDownloadLocalState.openRiskWarningDialog}\r\n                onClose={() => onCancelRiskWarningClick()}\r\n            >\r\n                <DialogTitle>Accept Risk Warning</DialogTitle>\r\n                <DialogContent>\r\n                    <Box marginTop=\"18px\" whiteSpace=\"pre-line\" >\r\n                        <Typography variant=\"body1\" align=\"justify\" >\r\n                            {riskWarningTextSplits[0]}\r\n                            <CustomLink\r\n                                url={Routes.nonGroupRiskWarning}\r\n                                target=\"_blank\"\r\n                                color={getGroupRouteTheme(ManageGroupUrlState).palette.error.main}\r\n                                activeColor=\"none\"\r\n                                activeUnderline={true}\r\n                                component=\"nav-link\"\r\n                                childComponent={\r\n                                    riskWarningTextSplits[1]\r\n                                }\r\n                            />\r\n                            {riskWarningTextSplits[2]}\r\n                        </Typography>\r\n                    </Box>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Box display=\"flex\" flexDirection=\"row\" marginRight=\"4px\" marginBottom=\"4px\" >\r\n                        <Button\r\n                            className={css(sharedStyles.no_text_transform)}\r\n                            onClick={() => onCancelRiskWarningClick()}\r\n                        >Cancel</Button>\r\n                        <Box width=\"14px\" />\r\n                        <Button\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            className={css(sharedStyles.no_text_transform)}\r\n                            onClick={() => onAcceptRiskWarningClick()}\r\n                        >Accept</Button>\r\n                    </Box>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </Box>;\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DocumentsDownload);","import React, {Component} from \"react\";\nimport {connect} from \"react-redux\";\nimport {AppState} from \"../../../../redux-store/reducers\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {Box, Button, Dialog, DialogActions, DialogContent, Typography} from \"@material-ui/core\";\nimport {css} from \"aphrodite\";\nimport sharedStyles from \"../../../../shared-js-css-styles/SharedStyles\";\nimport {ContactPitchOwnerDialogState, isSendingContactEmail} from \"./ContactPitchOwnerDialogReducer\";\nimport {AnyAction} from \"redux\";\nimport {sendContactEmail, toggleContactPitchOwnerDialog} from \"./ContactPitchOwnerDialogActions\";\n\ninterface ContactPitchOwnerDialogProps {\n    ContactPitchOwnerDialogLocalState: ContactPitchOwnerDialogState;\n    toggleContactDialog: () => any;\n    sendContactEmail: () => any;\n}\n\nconst mapStateToProps = (state: AppState) => {\n    return {\n        ContactPitchOwnerDialogLocalState: state.ContactPitchOwnerDialogLocalState\n    }\n}\n\nconst mapDispatchToProps = (dispatch: ThunkDispatch<any, any, AnyAction>) => {\n    return {\n        toggleContactDialog: () => dispatch(toggleContactPitchOwnerDialog()),\n        sendContactEmail: () => dispatch(sendContactEmail())\n    }\n}\n\nclass ContactPitchOwnerDialog extends Component<ContactPitchOwnerDialogProps, any> {\n    render() {\n        const {\n            ContactPitchOwnerDialogLocalState,\n            toggleContactDialog,\n            sendContactEmail\n        } = this.props;\n\n        return <Dialog\n            open={ContactPitchOwnerDialogLocalState.contactDialogOpen}\n            onClose={() => toggleContactDialog()}\n        >\n            <DialogContent>\n                <Box display=\"flex\" flexDirection=\"column\">\n                    <Typography variant=\"body1\" align=\"left\">{`We will let the pitch owner know that you would like to find out more.`}</Typography>\n                    <Box height=\"20px\"/>\n                    <Typography variant=\"body1\" align=\"left\">{`Are you happy for us to share your email address?`}</Typography>\n                </Box>\n            </DialogContent>\n            <DialogActions>\n                {\n                    isSendingContactEmail(ContactPitchOwnerDialogLocalState)\n                        ? null\n                        : <Button\n                            onClick={() => toggleContactDialog()}\n                            className={css(sharedStyles.no_text_transform)}\n                        >Cancel</Button>\n                }\n                <Button color=\"primary\" variant=\"contained\" className={css(sharedStyles.no_text_transform)} disabled={isSendingContactEmail(ContactPitchOwnerDialogLocalState)} onClick={() => sendContactEmail()}>\n                    {\n                        isSendingContactEmail(ContactPitchOwnerDialogLocalState)\n                            ? `Sending email to ${ContactPitchOwnerDialogLocalState.projectOwnerEmail} ...`\n                            : \"Yes\"\n                    }\n                </Button>\n            </DialogActions>\n        </Dialog>;\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactPitchOwnerDialog);","import React, {Component} from \"react\";\r\nimport FlexView from \"react-flexview\";\r\nimport {css, StyleSheet} from \"aphrodite\";\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle,\r\n    Divider,\r\n    InputBase,\r\n    Paper,\r\n    Step,\r\n    StepButton,\r\n    StepContent,\r\n    StepLabel,\r\n    Stepper,\r\n    Tab,\r\n    Tabs,\r\n    TextField,\r\n    Typography\r\n} from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/CreateOutlined\";\r\nimport CreateIcon from \"@material-ui/icons/CreateOutlined\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport {Col, Container, Image, Row} from \"react-bootstrap\";\r\nimport HashLoader from \"react-spinners/HashLoader\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport ReactPlayer from \"react-player\";\r\nimport * as colors from \"../../values/colors\";\r\nimport * as utils from \"../../utils/utils\";\r\nimport PageNotFound from \"../../shared-components/page-not-found/PageNotFound\";\r\nimport PageNotFoundWhole from \"../../shared-components/page-not-found/PageNotFoundWhole\";\r\nimport CreatePledgeDialog from \"../../shared-components/create-pledge-dialog/CreatePledgeDialog\";\r\nimport SelectPitchVisibility from \"../../shared-components/select-pitch-visibility/SelectPitchVisibility\";\r\nimport InfoOverlay from \"../../shared-components/info_overlay/InfoOverlay\";\r\nimport {connect} from \"react-redux\";\r\nimport * as manageGroupFromParamsActions from \"../../redux-store/actions/manageGroupFromParamsActions\";\r\nimport * as pledgesTableActions from \"../../redux-store/actions/pledgesTableActions\";\r\nimport * as investorSelfCertificationAgreementsActions\r\n    from \"../../redux-store/actions/investorSelfCertificationAgreementsActions\";\r\nimport * as createPledgeDialogActions from \"../../redux-store/actions/createPledgeDialogActions\";\r\nimport * as selectProjectVisibilityActions from \"../../redux-store/actions/selectProjectVisibilityActions\";\r\nimport * as feedbackSnackbarActions from \"../../redux-store/actions/feedbackSnackbarActions\";\r\nimport \"./ProjectDetails.scss\";\r\nimport firebase from \"../../firebase/firebaseApp\";\r\nimport * as DB_CONST from \"../../firebase/databaseConsts\";\r\nimport {TYPE_INVESTOR} from \"../../firebase/databaseConsts\";\r\nimport * as realtimeDBUtils from \"../../firebase/realtimeDBUtils\";\r\nimport sharedStyles from \"../../shared-js-css-styles/SharedStyles\";\r\nimport * as ROUTES from \"../../router/routes\";\r\nimport {AUTH_SUCCESS} from \"../signin/Signin\";\r\nimport {KeyboardDatePicker} from \"@material-ui/pickers\";\r\nimport Api, {ApiRoutes} from \"../../api/Api\";\r\nimport {\r\n    isDraftProject,\r\n    isProjectCreatedByGroupAdmin,\r\n    isProjectFailed,\r\n    isProjectInLivePitchPhase,\r\n    isProjectInLivePledgePhase,\r\n    isProjectLive,\r\n    isProjectOwner,\r\n    isProjectPitchExpiredWaitingForAdminToCheck,\r\n    isProjectRejectedToGoLive,\r\n    isProjectSuccessful,\r\n    isProjectTemporarilyClosed,\r\n    isProjectWaitingForPledgeToBeChecked,\r\n    isProjectWaitingForPledgeToBeCreated,\r\n    isProjectWaitingToGoLive\r\n} from \"../../models/project\";\r\nimport DocumentsDownload from \"../../shared-components/documents-download/DocumentsDownload\";\r\nimport RiskWarning from \"../../shared-components/risk-warning/RiskWarning\";\r\nimport {toggleContactPitchOwnerDialog} from \"./components/contact-pitch-owner-dialog/ContactPitchOwnerDialogActions\";\r\nimport ContactPitchOwnerDialog from \"./components/contact-pitch-owner-dialog/ContactPitchOwnerDialog\";\r\nimport FeedbackSnackbarNew from \"../../shared-components/feedback-snackbar/FeedbackSnackbarNew\";\r\nimport {hasAuthenticationError, isAuthenticating} from \"../../redux-store/reducers/authenticationReducer\";\r\n\r\nconst ADMIN_OFFER_STATES_PUBLISH_PITCH = 0;\r\nconst ADMIN_OFFER_STATES_MOVE_TO_PLEDGE = 1;\r\nconst ADMIN_OFFER_STATES_PUBLISH_PLEDGE = 2;\r\n\r\nconst MAIN_BODY_ADMIN_OFFER_STATES = 0;\r\nconst MAIN_BODY_CAMPAIGN = 1;\r\nconst MAIN_BODY_DOCUMENTS = 2;\r\nconst MAIN_BODY_COMMENTS = 3;\r\nconst MAIN_BODY_NOTES = 4;\r\nconst MAIN_BODY_INVESTORS_PLEDGED = 5; // only available for issuer and admin\r\n\r\nconst MAX_COVER_HEIGHT_IN_MOBILE_MODE = 240;\r\nconst MAX_COVER_HEIGHT_IN_BIG_SCREEN_MODE = 550;\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        AuthenticationState: state.AuthenticationState,\r\n\r\n        isMobile: state.MediaQueryState.isMobile,\r\n\r\n        groupUserName: state.manageGroupFromParams.groupUserName,\r\n        groupProperties: state.manageGroupFromParams.groupProperties,\r\n        groupPropertiesLoaded: state.manageGroupFromParams.groupPropertiesLoaded,\r\n        shouldLoadOtherData: state.manageGroupFromParams.shouldLoadOtherData,\r\n\r\n        authStatus: state.auth.authStatus,\r\n        authenticating: state.auth.authenticating,\r\n        user: state.auth.user,\r\n        userLoaded: state.auth.userLoaded,\r\n        userBeingLoaded: state.auth.userBeingLoaded,\r\n        groupsUserIsIn: state.auth.groupsUserIsIn,\r\n\r\n        // Investor self-certification agreement (for investor only) ----------------------------------------------------\r\n        investorSelfCertificationAgreement_userID: state.manageInvestorSelfCertificationAgreement.userID,\r\n        investorSelfCertificationAgreement: state.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreement,\r\n        investorSelfCertificationAgreementLoaded: state.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementLoaded,\r\n        investorSelfCertificationAgreementBeingLoaded: state.manageInvestorSelfCertificationAgreement.investorSelfCertificationAgreementBeingLoaded,\r\n        //--------------------------------------------------------------------------------------------------------------\r\n\r\n        projectVisibilitySetting: state.manageSelectProjectVisibility.projectVisibilitySetting\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setGroupUserNameFromParams: (groupUserName) => dispatch(manageGroupFromParamsActions.setGroupUserNameFromParams(groupUserName)),\r\n        setExpectedAndCurrentPathsForChecking: (expectedPath, currentPath) => dispatch(manageGroupFromParamsActions.setExpectedAndCurrentPathsForChecking(expectedPath, currentPath)),\r\n        loadAngelNetwork: () => dispatch(manageGroupFromParamsActions.loadAngelNetwork()),\r\n\r\n        // Investor self-certification agreement functions --------------------------------------------------------------\r\n        investorSelfCertificationAgreement_setUser: (uid) => dispatch(investorSelfCertificationAgreementsActions.setUser(uid)),\r\n        loadInvestorSelfCertificationAgreement: () => dispatch(investorSelfCertificationAgreementsActions.loadInvestorSelfCertificationAgreement()),\r\n        //--------------------------------------------------------------------------------------------------------------\r\n\r\n        pledgesTable_setProject: (project) => dispatch(pledgesTableActions.setProject(project)),\r\n        pledgesTable_stopListeningForPledgesChanged: () => dispatch(pledgesTableActions.stopListeningForPledgesChanged()),\r\n\r\n        createPledgeDialog_toggleDialog: () => dispatch(createPledgeDialogActions.toggleCreatePledgeDialog()),\r\n        createPledgeDialog_setProject: (project) => dispatch(createPledgeDialogActions.setProject(project)),\r\n\r\n        selectProjectVisibility_setProject: (project) => dispatch(selectProjectVisibilityActions.setProject(project)),\r\n\r\n        setFeedbackSnackbarContent: (message, color, position) => dispatch(feedbackSnackbarActions.setFeedbackSnackbarContent(message, color, position)),\r\n\r\n        toggleContactPitchOwnerDialog: (projectName, projectOwnerEmail) => dispatch(toggleContactPitchOwnerDialog(projectName, projectOwnerEmail))\r\n    }\r\n};\r\n\r\nclass ProjectDetailsMain extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.database = firebase.database();\r\n\r\n        // project changed listener\r\n        this.projectListener = null;\r\n        // comments changed listener\r\n        this.commentsListener = null;\r\n        // comments replies changed listener\r\n        this.commentsRepliesListener = null;\r\n        // pledges changed listener\r\n        this.pledgesListener = null;\r\n        // votes changed listener\r\n        this.votesListener = null;\r\n\r\n        this.state = {\r\n            // variables to check if all the data has been loaded or being loaded\r\n            dataLoaded: false,\r\n            dataBeingLoaded: false,\r\n\r\n            investorPledge: null,\r\n            investorPledgeLoaded: false,\r\n\r\n            mainBody: MAIN_BODY_CAMPAIGN,\r\n            adminOfferStatesActiveStep: ADMIN_OFFER_STATES_PUBLISH_PITCH,\r\n\r\n            comments: [],\r\n            commentsLoaded: false,\r\n\r\n            // states for an investor to post a NEW comment\r\n            commentDialogOpen: false,\r\n            commentText: \"\",\r\n            commentSubmitClick: false,\r\n            // ---------------------------------\r\n\r\n            // existing comment of the current investor\r\n            currentComment: null,\r\n            currentCommentText: \"\",\r\n            // -------------------------------------------\r\n\r\n            // available for the issuer/group admins who own the project only\r\n            // allow the owners to reply to the investor's comments\r\n            replyingToComment: null,\r\n            replyText: \"\",\r\n            replyEdited: null,\r\n            // -------------------------------------------\r\n\r\n            // this state is used to capture the change in date when an admin wants to bring\r\n            // an expired pitch back to live\r\n            changedPitchExpiryDate: null,\r\n\r\n            // when an admin wants to send the pitch back to the issuer with some feedback rather than publish it\r\n            addingRejectFeedback: false,\r\n            rejectFeedback: \"\",\r\n            sendingProjectBack: false,\r\n\r\n            // pitch's details\r\n            projectDetail: {\r\n                // the pitch object\r\n                project: null,\r\n                projectLoaded: false,\r\n\r\n                pledges: [],\r\n                pledgesLoaded: false,\r\n\r\n                votes: [],\r\n                votesLoaded: false,\r\n\r\n                // the issuer object (the issuer who made this pitch)\r\n                projectIssuer: null,\r\n                projectIssuerLoaded: false\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {\r\n            groupPropertiesLoaded,\r\n            shouldLoadOtherData,\r\n\r\n            user,\r\n            userLoaded,\r\n            userBeingLoaded,\r\n\r\n            investorSelfCertificationAgreement_userID,\r\n            investorSelfCertificationAgreementLoaded,\r\n            investorSelfCertificationAgreementBeingLoaded,\r\n\r\n            setGroupUserNameFromParams,\r\n            setExpectedAndCurrentPathsForChecking,\r\n            loadAngelNetwork,\r\n            investorSelfCertificationAgreement_setUser,\r\n            loadInvestorSelfCertificationAgreement,\r\n        } = this.props;\r\n\r\n        const {\r\n            dataLoaded,\r\n            dataBeingLoaded\r\n        } = this.state;\r\n\r\n        const match = this.props.match;\r\n\r\n        setGroupUserNameFromParams(match.params.hasOwnProperty(\"groupUserName\")\r\n            ?\r\n            match.params.groupUserName\r\n            :\r\n            null\r\n        );\r\n        setExpectedAndCurrentPathsForChecking(\r\n            match.params.hasOwnProperty(\"groupUserName\")\r\n                ?\r\n                ROUTES.PROJECT_DETAILS\r\n                :\r\n                ROUTES.PROJECT_DETAILS_INVEST_WEST_SUPER, match.path\r\n        );\r\n\r\n        loadAngelNetwork();\r\n\r\n        if (groupPropertiesLoaded && shouldLoadOtherData) {\r\n            if (!userBeingLoaded && userLoaded) {\r\n                if (!dataBeingLoaded && !dataLoaded) {\r\n                    // load data if not loaded\r\n                    this.loadData();\r\n                }\r\n\r\n                if (user) {\r\n                    if (!investorSelfCertificationAgreement_userID && user.type === DB_CONST.TYPE_INVESTOR) {\r\n                        investorSelfCertificationAgreement_setUser(user.id);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // if user id for reference in self-certification agreement has been set\r\n            if (investorSelfCertificationAgreement_userID) {\r\n                // if self-certification agreement has not been loaded\r\n                if (!investorSelfCertificationAgreementLoaded\r\n                    && !investorSelfCertificationAgreementBeingLoaded\r\n                    && user.type === DB_CONST.TYPE_INVESTOR\r\n                ) {\r\n                    loadInvestorSelfCertificationAgreement();\r\n                }\r\n            }\r\n        }\r\n        console.log('Page loaded. Authentication status:', this.props.AuthenticationState.isAuthenticated ? 'Authenticated' : 'Not Authenticated');\r\n        console.log('Current user on page load:', this.props.AuthenticationState.currentUser);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {\r\n            groupPropertiesLoaded,\r\n            shouldLoadOtherData,\r\n\r\n            user,\r\n            userLoaded,\r\n            userBeingLoaded,\r\n\r\n            investorSelfCertificationAgreement_userID,\r\n            investorSelfCertificationAgreementLoaded,\r\n            investorSelfCertificationAgreementBeingLoaded,\r\n\r\n            investorSelfCertificationAgreement_setUser,\r\n            loadInvestorSelfCertificationAgreement,\r\n\r\n            loadAngelNetwork\r\n        } = this.props;\r\n\r\n        const {\r\n            dataLoaded,\r\n            dataBeingLoaded\r\n        } = this.state;\r\n\r\n        const {\r\n            project,\r\n            projectLoaded\r\n        } = this.state.projectDetail;\r\n\r\n        loadAngelNetwork();\r\n\r\n        if (groupPropertiesLoaded && shouldLoadOtherData) {\r\n            if (!userBeingLoaded && userLoaded) {\r\n                if (!dataBeingLoaded && !dataLoaded) {\r\n                    // load data if not loaded\r\n                    this.loadData();\r\n                }\r\n\r\n                if (user) {\r\n                    if (!investorSelfCertificationAgreement_userID && user.type === DB_CONST.TYPE_INVESTOR) {\r\n                        investorSelfCertificationAgreement_setUser(user.id);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // if user id for reference in self-certification agreement has been set\r\n            if (investorSelfCertificationAgreement_userID) {\r\n                // if self-certification agreement has not been loaded\r\n                if (!investorSelfCertificationAgreementLoaded\r\n                    && !investorSelfCertificationAgreementBeingLoaded\r\n                    && user.type === DB_CONST.TYPE_INVESTOR\r\n                ) {\r\n                    loadInvestorSelfCertificationAgreement();\r\n                }\r\n            }\r\n\r\n            // attach project changed listener\r\n            if (projectLoaded && project) {\r\n                this.attachProjectChangedListener();\r\n            }\r\n\r\n            this.loadDataWhenUIElementsChange();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const {\r\n            pledgesTable_stopListeningForPledgesChanged\r\n        } = this.props;\r\n\r\n        // detach pitch changed listener\r\n        this.detachProjectChangedListener();\r\n\r\n        // detach listener for votes\r\n        if (this.votesListener) {\r\n            this.votesListener.off(\"child_added\");\r\n            this.votesListener.off(\"child_changed\");\r\n            this.votesListener.off(\"child_removed\");\r\n        }\r\n\r\n        // detach listener for pledges\r\n        if (this.pledgesListener) {\r\n            this.pledgesListener.off(\"child_added\");\r\n            this.pledgesListener.off(\"child_changed\");\r\n            this.pledgesListener.off(\"child_removed\");\r\n        }\r\n\r\n        // detach listener for comments\r\n        if (this.commentsListener) {\r\n            this.commentsListener.off(\"child_added\");\r\n            this.commentsListener.off(\"child_changed\");\r\n        }\r\n\r\n        // detach listener for comments replies\r\n        if (this.commentsRepliesListener) {\r\n            this.commentsRepliesListener.off(\"child_added\");\r\n            this.commentsRepliesListener.off(\"child_changed\");\r\n        }\r\n\r\n        // detach listener for pledges changed in pledges table\r\n        pledgesTable_stopListeningForPledgesChanged();\r\n    }\r\n\r\n    /**\r\n     * This function is used to load data for the whole page\r\n     */\r\n    loadData = () => {\r\n        const {\r\n            user,\r\n            userLoaded,\r\n\r\n            selectProjectVisibility_setProject\r\n        } = this.props;\r\n\r\n        const {\r\n            dataLoaded,\r\n            dataBeingLoaded\r\n        } = this.state;\r\n\r\n        if (!userLoaded) {\r\n            return;\r\n        }\r\n\r\n        if (!user) {\r\n            if (!dataLoaded) {\r\n                this.setState({\r\n                    dataLoaded: true,\r\n                    dataBeingLoaded: false,\r\n                    investorPledgeLoaded: true,\r\n                    projectDetail: {\r\n                        ...this.state.projectDetail,\r\n                        projectLoaded: true, // project is null\r\n                        projectIssuerLoaded: true, // project issuer is null\r\n                        votesLoaded: true,\r\n                        pledgesLoaded: true\r\n                    }\r\n                });\r\n                return;\r\n            }\r\n        }\r\n\r\n        // data is being loaded\r\n        if (dataBeingLoaded) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            dataLoaded: false,\r\n            dataBeingLoaded: true\r\n        });\r\n\r\n        // load the requested project\r\n        const projectID = this.props.match.params.projectID;\r\n        realtimeDBUtils\r\n            .loadAParticularProject(projectID)\r\n            .then(project => {\r\n                // track activity for investors only\r\n                if (user.type === DB_CONST.TYPE_INVESTOR) {\r\n                    realtimeDBUtils\r\n                        .trackActivity({\r\n                            userID: user.id,\r\n                            activityType: DB_CONST.ACTIVITY_TYPE_VIEW,\r\n                            interactedObjectLocation: DB_CONST.PROJECTS_CHILD,\r\n                            interactedObjectID: project.id,\r\n                            activitySummary: realtimeDBUtils.ACTIVITY_SUMMARY_TEMPLATE_VIEWED_PROJECT_DETAILS.replace(\"%project%\", project.projectName),\r\n                            action: ROUTES.PROJECT_DETAILS_INVEST_WEST_SUPER.replace(\":projectID\", project.id)\r\n                        });\r\n                }\r\n\r\n                // set project for the Select component that is used to choose the project visibility\r\n                selectProjectVisibility_setProject(project);\r\n\r\n                this.setState({\r\n                    projectDetail: {\r\n                        ...this.state.projectDetail,\r\n                        project: project,\r\n                        projectLoaded: true\r\n                    },\r\n                    mainBody:\r\n                        user.type === DB_CONST.TYPE_ADMIN\r\n                            ?\r\n                            user.anid === project.anid\r\n                                ?\r\n                                MAIN_BODY_ADMIN_OFFER_STATES\r\n                                :\r\n                                MAIN_BODY_CAMPAIGN\r\n                            :\r\n                            MAIN_BODY_CAMPAIGN\r\n                    ,\r\n                    adminOfferStatesActiveStep:\r\n                        project.status === DB_CONST.PROJECT_STATUS_BEING_CHECKED\r\n                            ?\r\n                            ADMIN_OFFER_STATES_PUBLISH_PITCH\r\n                            :\r\n                            (project.status === DB_CONST.PROJECT_STATUS_PITCH_PHASE || project.status === DB_CONST.PROJECT_STATUS_PITCH_PHASE_EXPIRED_WAITING_TO_BE_CHECKED)\r\n                                ?\r\n                                ADMIN_OFFER_STATES_MOVE_TO_PLEDGE\r\n                                :\r\n                                (project.status === DB_CONST.PROJECT_STATUS_PRIMARY_OFFER_CREATED_WAITING_TO_BE_CHECKED || project.status === DB_CONST.PROJECT_STATUS_PRIMARY_OFFER_PHASE)\r\n                                    ?\r\n                                    ADMIN_OFFER_STATES_PUBLISH_PLEDGE\r\n                                    :\r\n                                    ADMIN_OFFER_STATES_PUBLISH_PITCH\r\n                });\r\n\r\n                // load votes\r\n                realtimeDBUtils\r\n                    .loadVotes(project.id, null, realtimeDBUtils.LOAD_VOTES_ORDER_BY_PROJECT)\r\n                    .then(votes => {\r\n\r\n                        this.setState({\r\n                            projectDetail: {\r\n                                ...this.state.projectDetail,\r\n                                votes: votes,\r\n                                votesLoaded: true\r\n                            }\r\n                        });\r\n\r\n                        // load pledges\r\n                        realtimeDBUtils\r\n                            .loadPledges(project.id, null, realtimeDBUtils.LOAD_PLEDGES_ORDER_BY_PROJECT)\r\n                            .then(pledges => {\r\n\r\n                                // if the current user is an investor, check if they pledged this project\r\n                                if (user.type === DB_CONST.TYPE_INVESTOR) {\r\n                                    let currentUserPledgeIndex = pledges.findIndex(pledge => pledge.investorID === user.id && pledge.amount !== '');\r\n                                    // this investor has pledges this project before\r\n                                    if (currentUserPledgeIndex !== -1) {\r\n                                        this.setState({\r\n                                            investorPledge: pledges[currentUserPledgeIndex]\r\n                                        });\r\n                                    }\r\n                                }\r\n\r\n                                this.setState({\r\n                                    dataLoaded: true,\r\n                                    dataBeingLoaded: false,\r\n                                    investorPledgeLoaded: true,\r\n                                    projectDetail: {\r\n                                        ...this.state.projectDetail,\r\n                                        pledges: pledges,\r\n                                        pledgesLoaded: true\r\n                                    }\r\n                                });\r\n\r\n                                // load the profile of the Issuer or the Group Admin created this project\r\n                                // this user can be the issuer who created the offer themselves\r\n                                // or the group admin who created this offer on behalf of an unknown issuer\r\n                                // or the issuer who got the group admin create this offer for\r\n                                realtimeDBUtils\r\n                                    .getUserBasedOnID(project.issuerID)\r\n                                    .then(projectIssuer => {\r\n                                        this.setState({\r\n                                            projectDetail: {\r\n                                                ...this.state.projectDetail,\r\n                                                projectIssuer: projectIssuer,\r\n                                                projectIssuerLoaded: true\r\n                                            }\r\n                                        });\r\n                                    })\r\n                                    .catch(error => {\r\n                                        this.setState({\r\n                                            dataLoaded: true,\r\n                                            dataBeingLoaded: false,\r\n                                            investorPledgeLoaded: true,\r\n                                            projectDetail: {\r\n                                                ...this.state.projectDetail,\r\n                                                projectLoaded: true, // project is null\r\n                                                projectIssuerLoaded: true, // project issuer is null\r\n                                                votesLoaded: true,\r\n                                                pledgesLoaded: true\r\n                                            }\r\n                                        });\r\n                                    });\r\n                            })\r\n                            .catch(error => {\r\n                                this.setState({\r\n                                    dataLoaded: true,\r\n                                    dataBeingLoaded: false,\r\n                                    investorPledgeLoaded: true,\r\n                                    projectDetail: {\r\n                                        ...this.state.projectDetail,\r\n                                        projectLoaded: true, // project is null\r\n                                        projectIssuerLoaded: true, // project issuer is null\r\n                                        votesLoaded: true,\r\n                                        pledgesLoaded: true\r\n                                    }\r\n                                });\r\n                            });\r\n                    })\r\n                    .catch(error => {\r\n                        this.setState({\r\n                            dataLoaded: true,\r\n                            dataBeingLoaded: false,\r\n                            investorPledgeLoaded: true,\r\n                            projectDetail: {\r\n                                ...this.state.projectDetail,\r\n                                projectLoaded: true, // project is null\r\n                                projectIssuerLoaded: true, // project issuer is null\r\n                                votesLoaded: true,\r\n                                pledgesLoaded: true\r\n                            }\r\n                        });\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                // error happens when loading the requested project\r\n                // we'll stop the loading process for all others\r\n                this.setState({\r\n                    dataLoaded: true,\r\n                    dataBeingLoaded: false,\r\n                    investorPledgeLoaded: true,\r\n                    projectDetail: {\r\n                        ...this.state.projectDetail,\r\n                        projectLoaded: true, // project is null\r\n                        projectIssuerLoaded: true, // project issuer is null\r\n                        votesLoaded: true,\r\n                        pledgesLoaded: true\r\n                    }\r\n                });\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Load data when UI elements change\r\n     */\r\n    loadDataWhenUIElementsChange = () => {\r\n        const {\r\n            user,\r\n\r\n            pledgesTable_setProject\r\n        } = this.props;\r\n\r\n        const {\r\n            mainBody,\r\n            commentsLoaded\r\n        } = this.state;\r\n\r\n        const {\r\n            project,\r\n            projectLoaded,\r\n\r\n            pledges,\r\n            pledgesLoaded,\r\n\r\n            votes,\r\n            votesLoaded\r\n        } = this.state.projectDetail;\r\n\r\n        // attach votes changed listener\r\n        if (votes && votesLoaded && project && projectLoaded) {\r\n            // votes can only happen if the project is in Pitch phase\r\n            if (project.status === DB_CONST.PROJECT_STATUS_PITCH_PHASE) {\r\n                if (!this.votesListener) {\r\n                    this.votesListener = this.database\r\n                        .ref(DB_CONST.VOTES_CHILD)\r\n                        .orderByChild(\"projectID\")\r\n                        .equalTo(project.id);\r\n\r\n                    // vote added\r\n                    this.votesListener\r\n                        .on(\"child_added\", snapshot => {\r\n                            let vote = snapshot.val();\r\n\r\n                            const votes = this.state.projectDetail.votes;\r\n                            let voteIndex = votes.findIndex(existingVote => existingVote.id === vote.id);\r\n                            if (voteIndex === -1) {\r\n                                realtimeDBUtils\r\n                                    .getUserBasedOnID(vote.investorID)\r\n                                    .then(investor => {\r\n                                        vote.investor = investor;\r\n                                        this.setState({\r\n                                            projectDetail: {\r\n                                                ...this.state.projectDetail,\r\n                                                votes: [...votes, vote]\r\n                                            }\r\n                                        });\r\n                                    });\r\n                            }\r\n                        });\r\n\r\n                    // vote changed\r\n                    this.votesListener\r\n                        .on(\"child_changed\", snapshot => {\r\n                            let vote = snapshot.val();\r\n\r\n                            const votes = this.state.projectDetail.votes;\r\n                            let voteIndex = votes.findIndex(existingVote => existingVote.id === vote.id);\r\n\r\n                            if (voteIndex !== -1) {\r\n                                let updatedVotes = votes;\r\n\r\n                                vote.investor = updatedVotes[voteIndex].investor;\r\n                                updatedVotes[voteIndex] = vote;\r\n\r\n                                this.setState({\r\n                                    projectDetail: {\r\n                                        ...this.state.projectDetail,\r\n                                        votes: updatedVotes\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n\r\n                    // vote removed\r\n                    this.votesListener\r\n                        .on(\"child_removed\", snapshot => {\r\n                            let voteRemovedID = snapshot.key;\r\n\r\n                            const votes = this.state.projectDetail.votes;\r\n                            let voteIndex = votes.findIndex(existingVote => existingVote.id === voteRemovedID);\r\n\r\n                            if (voteIndex !== -1) {\r\n                                let updatedVotes = votes;\r\n                                updatedVotes.splice(voteIndex, 1);\r\n\r\n                                this.setState({\r\n                                    projectDetail: {\r\n                                        ...this.state.projectDetail,\r\n                                        votes: updatedVotes\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n                }\r\n            }\r\n        }\r\n\r\n        // attach pledges changed listener\r\n        if (pledges && pledgesLoaded && projectLoaded && project) {\r\n            // pledges can only happen if the project is in Primary offer phase\r\n            if (project.status !== DB_CONST.PROJECT_STATUS_BEING_CHECKED\r\n                && project.status !== DB_CONST.PROJECT_STATUS_FAILED\r\n                && project.status !== DB_CONST.PROJECT_STATUS_PITCH_PHASE\r\n            ) {\r\n                if (!this.pledgesListener) {\r\n                    this.pledgesListener = this.database\r\n                        .ref(DB_CONST.PLEDGES_CHILD)\r\n                        .orderByChild(\"projectID\")\r\n                        .equalTo(project.id);\r\n\r\n                    // new pledge added\r\n                    this.pledgesListener\r\n                        .on(\"child_added\", snapshot => {\r\n                            let pledge = snapshot.val();\r\n\r\n                            let pledges = [...this.state.projectDetail.pledges];\r\n                            let pledgeIndex = pledges.findIndex(existingPledge => existingPledge.id === pledge.id);\r\n                            if (pledgeIndex === -1) {\r\n                                realtimeDBUtils\r\n                                    .getUserBasedOnID(pledge.investorID)\r\n                                    .then(investor => {\r\n                                        pledge.investor = investor;\r\n                                        this.setState({\r\n                                            projectDetail: {\r\n                                                ...this.state.projectDetail,\r\n                                                pledges: [...pledges, pledge]\r\n                                            }\r\n                                        });\r\n                                    });\r\n                            }\r\n                        });\r\n\r\n                    // pledge changed\r\n                    this.pledgesListener\r\n                        .on(\"child_changed\", snapshot => {\r\n                            let pledge = snapshot.val();\r\n\r\n                            let pledges = [...this.state.projectDetail.pledges];\r\n                            let pledgeIndex = pledges.findIndex(existingPledge => existingPledge.id === pledge.id);\r\n\r\n                            if (pledgeIndex !== -1) {\r\n                                let updatedPledges = pledges;\r\n\r\n                                pledge.investor = updatedPledges[pledgeIndex].investor;\r\n                                updatedPledges[pledgeIndex] = pledge;\r\n\r\n                                const currentPledge = JSON.parse(JSON.stringify(this.state.investorPledge));\r\n\r\n                                this.setState({\r\n                                    investorPledge:\r\n                                    // current pledge is not null\r\n                                        currentPledge !== null\r\n                                            ?\r\n                                            currentPledge.id === pledge.id\r\n                                                ?\r\n                                                pledge.amount === \"\"\r\n                                                    ?\r\n                                                    null\r\n                                                    :\r\n                                                    JSON.parse(JSON.stringify(pledge))\r\n                                                :\r\n                                                currentPledge\r\n                                            :\r\n                                            // current pledge is null\r\n                                            pledge.investorID === user.id\r\n                                                ?\r\n                                                pledge.amount === \"\"\r\n                                                    ?\r\n                                                    null\r\n                                                    :\r\n                                                    JSON.parse(JSON.stringify(pledge))\r\n                                                :\r\n                                                null\r\n                                    ,\r\n                                    projectDetail: {\r\n                                        ...this.state.projectDetail,\r\n                                        pledges: updatedPledges\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n\r\n                    // pledge removed\r\n                    this.pledgesListener\r\n                        .on(\"child_removed\", snapshot => {\r\n                            let pledgeRemovedID = snapshot.key;\r\n\r\n                            let pledges = [...this.state.projectDetail.pledges];\r\n                            let pledgeIndex = pledges.findIndex(existingPledge => existingPledge.id === pledgeRemovedID);\r\n\r\n                            if (pledgeIndex !== -1) {\r\n                                let updatedPledges = pledges;\r\n                                updatedPledges.splice(pledgeIndex, 1);\r\n\r\n                                const currentPledge = this.state.investorPledge;\r\n                                if (!currentPledge && currentPledge.id === pledgeRemovedID) {\r\n                                    this.setState({\r\n                                        investorPledge: null,\r\n                                        projectDetail: {\r\n                                            ...this.state.projectDetail,\r\n                                            pledges: updatedPledges\r\n                                        }\r\n                                    });\r\n                                } else {\r\n                                    this.setState({\r\n                                        projectDetail: {\r\n                                            ...this.state.projectDetail,\r\n                                            pledges: updatedPledges\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n                }\r\n            }\r\n        }\r\n\r\n        // if the user clicks on the Pledges tab\r\n        if (mainBody === MAIN_BODY_INVESTORS_PLEDGED) {\r\n            if (project) {\r\n                pledgesTable_setProject(project);\r\n            }\r\n        }\r\n\r\n        // if the user clicks on the Comments tab\r\n        if (mainBody === MAIN_BODY_COMMENTS) {\r\n            // if comments have not been loaded yet\r\n            if (!commentsLoaded) {\r\n                // load comments\r\n                realtimeDBUtils\r\n                    .loadComments(project.id)\r\n                    .then(returnedComments => {\r\n\r\n                        realtimeDBUtils\r\n                            .loadCommentsReplies(returnedComments)\r\n                            .then(commentsWithReplies => {\r\n                                // comments loaded with replies\r\n                                this.setState({\r\n                                    comments: [...commentsWithReplies],\r\n                                    commentsLoaded: true\r\n                                });\r\n\r\n                                // attach comments listener\r\n                                if (!this.commentsListener) {\r\n                                    this.commentsListener = this.database\r\n                                        .ref(DB_CONST.COMMENTS_CHILD)\r\n                                        .orderByChild(\"projectID\")\r\n                                        .equalTo(project.id);\r\n\r\n                                    // new comment added\r\n                                    this.commentsListener\r\n                                        .on(\"child_added\", snapshot => {\r\n                                            let comment = snapshot.val();\r\n                                            comment.replies = [];\r\n\r\n                                            // assign comment to currentComment object if it belongs to the current investor\r\n                                            if (comment.commentedBy === user.id) {\r\n                                                const currentComment = this.state.currenComment;\r\n                                                if (!currentComment) {\r\n                                                    this.setState({\r\n                                                        currentComment: comment,\r\n                                                        currentCommentText: comment.comment\r\n                                                    });\r\n                                                }\r\n                                            }\r\n\r\n                                            let comments = [...this.state.comments];\r\n                                            let commentIndex = comments.findIndex(existingComment => existingComment.id === comment.id);\r\n\r\n                                            if (commentIndex === -1) {\r\n                                                realtimeDBUtils\r\n                                                    .getUserBasedOnID(comment.commentedBy)\r\n                                                    .then(user => {\r\n                                                        comment.author = user;\r\n                                                        this.setState({\r\n                                                            comments: [...comments, comment]\r\n                                                        });\r\n                                                    });\r\n                                            }\r\n                                        });\r\n\r\n                                    // comment changed\r\n                                    this.commentsListener\r\n                                        .on(\"child_changed\", snapshot => {\r\n                                            let comment = snapshot.val();\r\n\r\n                                            let comments = [...this.state.comments];\r\n                                            let commentIndex = comments.findIndex(existingComment => existingComment.id === comment.id);\r\n\r\n                                            if (commentIndex !== -1) {\r\n                                                let updatedComments = [...comments];\r\n                                                comment.author = updatedComments[commentIndex].author;\r\n                                                comment.replies = updatedComments[commentIndex].replies;\r\n\r\n                                                updatedComments[commentIndex] = comment;\r\n\r\n                                                // NOTE: Must explicitly call state here to avoid null from previous state\r\n                                                const currentComment = this.state.currentComment;\r\n\r\n                                                if (currentComment && currentComment.id === comment.id) {\r\n                                                    this.setState({\r\n                                                        comments: updatedComments,\r\n                                                        currentComment: comment\r\n                                                    });\r\n                                                } else {\r\n                                                    this.setState({\r\n                                                        comments: [...updatedComments]\r\n                                                    });\r\n                                                }\r\n                                            }\r\n                                        });\r\n                                }\r\n\r\n                                // attach comments replies listener\r\n                                if (!this.commentsRepliesListener) {\r\n                                    this.commentsRepliesListener = this.database\r\n                                        .ref(DB_CONST.COMMENT_REPLIES_CHILD)\r\n                                        .orderByChild(\"projectID\")\r\n                                        .equalTo(project.id);\r\n\r\n                                    this.commentsRepliesListener\r\n                                        .on(\"child_added\", snapshot => {\r\n                                            let reply = snapshot.val();\r\n\r\n                                            let comments = [...this.state.comments];\r\n\r\n                                            const correspondingCommentIndex = comments.findIndex(comment => comment.id === reply.commentID);\r\n\r\n                                            // ensure the comment exists locally\r\n                                            if (correspondingCommentIndex !== -1) {\r\n                                                let comment = comments[correspondingCommentIndex];\r\n                                                const replyIndex = comment.replies.findIndex(existingReply => existingReply.id === reply.id);\r\n\r\n                                                // the newly added reply does not exist in the local replies list of this comment\r\n                                                if (replyIndex === -1) {\r\n                                                    if (reply.hasOwnProperty('deleted') && reply.deleted === true) {\r\n                                                        return;\r\n                                                    }\r\n                                                    realtimeDBUtils\r\n                                                        .getUserBasedOnID(reply.repliedBy)\r\n                                                        .then(user => {\r\n                                                            reply.author = user;\r\n                                                            comment.replies = [...comment.replies, reply];\r\n\r\n                                                            comments[correspondingCommentIndex] = comment;\r\n\r\n                                                            this.setState({\r\n                                                                comments: [...comments]\r\n                                                            });\r\n                                                        });\r\n                                                }\r\n                                            }\r\n                                        });\r\n\r\n                                    this.commentsRepliesListener\r\n                                        .on(\"child_changed\", snapshot => {\r\n                                            let reply = snapshot.val();\r\n\r\n                                            let comments = [...this.state.comments];\r\n\r\n                                            const correspondingCommentIndex = comments.findIndex(comment => comment.id === reply.commentID);\r\n\r\n                                            // ensure the comment exists locally\r\n                                            if (correspondingCommentIndex !== -1) {\r\n                                                let comment = comments[correspondingCommentIndex];\r\n                                                const replyIndex = comment.replies.findIndex(existingReply => existingReply.id === reply.id);\r\n\r\n                                                // the newly added reply does not exist in the local replies list of this comment\r\n                                                if (replyIndex !== -1) {\r\n                                                    // reply has been deleted\r\n                                                    if (reply.hasOwnProperty(\"deleted\") && reply.deleted === true) {\r\n                                                        // remove reply from the local replies list\r\n                                                        comment.replies.splice(replyIndex, 1);\r\n\r\n                                                        comments[correspondingCommentIndex] = comment;\r\n\r\n                                                        this.setState({\r\n                                                            comments: [...comments]\r\n                                                        });\r\n                                                    }\r\n                                                    // reply is live\r\n                                                    else {\r\n                                                        realtimeDBUtils\r\n                                                            .getUserBasedOnID(reply.repliedBy)\r\n                                                            .then(user => {\r\n                                                                reply.author = comment.replies[replyIndex].author;\r\n                                                                comment.replies[replyIndex] = reply;\r\n\r\n                                                                comments[correspondingCommentIndex] = comment;\r\n\r\n                                                                this.setState({\r\n                                                                    comments: [...comments]\r\n                                                                });\r\n                                                            });\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                        });\r\n                                }\r\n                            })\r\n                            .catch(error => {\r\n                                this.setState({\r\n                                    commentsLoaded: true\r\n                                });\r\n                            });\r\n                    })\r\n                    .catch(error => {\r\n                        this.setState({\r\n                            commentsLoaded: true\r\n                        });\r\n                    });\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Vot for pitch function\r\n     *\r\n     * @param voteVal\r\n     */\r\n    handleVotePitch = voteVal => {\r\n        const {\r\n            groupProperties,\r\n            user\r\n        } = this.props;\r\n\r\n        const {\r\n            project,\r\n            votes\r\n        } = this.state.projectDetail;\r\n\r\n        let currentVoteObj = getInvestorVote(votes, user);\r\n        if (currentVoteObj) {\r\n            currentVoteObj.investor = null;\r\n        }\r\n\r\n        let newVoteObj = {};\r\n\r\n        // investor has already voted before or voted and cancelled\r\n        // when an investor cancelled their vote, the vote value will be ''\r\n        if (currentVoteObj) {\r\n\r\n            newVoteObj = JSON.parse(JSON.stringify(currentVoteObj));\r\n\r\n            // the investor cancelled their vote\r\n            if (newVoteObj.voted === '') {\r\n                newVoteObj.voted = voteVal;\r\n            }\r\n            // the investor now clicks to cancel their vote\r\n            else {\r\n                newVoteObj.voted = ''; // update vote to void\r\n            }\r\n\r\n            // update the existing vote\r\n            newVoteObj.date = utils.getCurrentDate();\r\n\r\n            this.database\r\n                .ref(DB_CONST.VOTES_CHILD)\r\n                .child(newVoteObj.id)\r\n                .update(newVoteObj)\r\n                .then(() => {\r\n                    // record the investor's activity\r\n                    realtimeDBUtils\r\n                        .trackActivity({\r\n                            userID: user.id,\r\n                            activityType: DB_CONST.ACTIVITY_TYPE_POST,\r\n                            interactedObjectLocation: DB_CONST.VOTES_CHILD,\r\n                            interactedObjectID: newVoteObj.id,\r\n                            activitySummary: realtimeDBUtils\r\n                                .ACTIVITY_SUMMARY_TEMPLATE_EDITED_VOTE_FOR_PROJECT\r\n                                .replace(\"%project%\", project.projectName)\r\n                            ,\r\n                            action: ROUTES\r\n                                .PROJECT_DETAILS_INVEST_WEST_SUPER\r\n                                .replace(\":projectID\", project.id)\r\n                            ,\r\n                            value: {\r\n                                before: currentVoteObj,\r\n                                after: newVoteObj\r\n                            }\r\n                        });\r\n                });\r\n        }\r\n        // investor has not voted before\r\n        else {\r\n            const id = this.database\r\n                .ref(DB_CONST.VOTES_CHILD)\r\n                .push()\r\n                .key;\r\n\r\n            newVoteObj.id = id;\r\n            newVoteObj.anid = groupProperties ? groupProperties.anid : null;\r\n            newVoteObj.investorID = user.id;\r\n            newVoteObj.projectID = project.id;\r\n            newVoteObj.voted = voteVal;\r\n            newVoteObj.date = utils.getCurrentDate();\r\n\r\n            this.database\r\n                .ref(DB_CONST.VOTES_CHILD)\r\n                .child(id)\r\n                .set(newVoteObj)\r\n                .then(() => {\r\n                    // record the investor's activity for first time voting\r\n                    realtimeDBUtils\r\n                        .trackActivity({\r\n                            userID: user.id,\r\n                            activityType: DB_CONST.ACTIVITY_TYPE_POST,\r\n                            interactedObjectLocation: DB_CONST.VOTES_CHILD,\r\n                            interactedObjectID: id,\r\n                            activitySummary: realtimeDBUtils\r\n                                .ACTIVITY_SUMMARY_TEMPLATE_MADE_A_VOTE_FOR_PROJECT\r\n                                .replace(\"%project%\", project.projectName)\r\n                            ,\r\n                            action: ROUTES\r\n                                .PROJECT_DETAILS_INVEST_WEST_SUPER\r\n                                .replace(\":projectID\", project.id)\r\n                            ,\r\n                            value: newVoteObj\r\n                        });\r\n\r\n                    // send a notification to notify the issuer\r\n                    realtimeDBUtils\r\n                        .sendNotification({\r\n                            title: \"Someone liked your pitch\",\r\n                            message: \"Congratulations. A new investor has showed interest in your pitch.\",\r\n                            userID: project.issuerID,\r\n                            action: ROUTES\r\n                                .PROJECT_DETAILS_INVEST_WEST_SUPER\r\n                                .replace(\":projectID\", project.id)\r\n                        })\r\n                        .then(() => {\r\n                            // do something\r\n                        })\r\n                        .catch(error => {\r\n                            // handle error\r\n                        });\r\n                });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Attach listener for any changes that happen on this pitch\r\n     * Attach listener for any changes that happen on this pitch\r\n     */\r\n    attachProjectChangedListener = () => {\r\n\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        if (this.projectListener === null) {\r\n            this.projectListener = this.database\r\n                .ref(DB_CONST.PROJECTS_CHILD)\r\n                .child(project.id);\r\n\r\n            this.projectListener\r\n                .on(\"value\", snapshot => {\r\n                    const project = snapshot.val();\r\n                    project.group = this.state.projectDetail.project.group;\r\n                    project.issuer = this.state.projectDetail.project.issuer;\r\n\r\n                    this.setState({\r\n                        projectDetail: {\r\n                            ...this.state.projectDetail,\r\n                            project: project,\r\n                        },\r\n                        adminOfferStatesActiveStep:\r\n                            project.status === DB_CONST.PROJECT_STATUS_BEING_CHECKED\r\n                                ?\r\n                                ADMIN_OFFER_STATES_PUBLISH_PITCH\r\n                                :\r\n                                project.status === DB_CONST.PROJECT_STATUS_PITCH_PHASE\r\n                                || project.status === DB_CONST.PROJECT_STATUS_PITCH_PHASE_EXPIRED_WAITING_TO_BE_CHECKED\r\n                                    ?\r\n                                    ADMIN_OFFER_STATES_MOVE_TO_PLEDGE\r\n                                    :\r\n                                    project.status === DB_CONST.PROJECT_STATUS_PRIMARY_OFFER_CREATED_WAITING_TO_BE_CHECKED\r\n                                    || project.status === DB_CONST.PROJECT_STATUS_PRIMARY_OFFER_PHASE\r\n                                        ?\r\n                                        ADMIN_OFFER_STATES_PUBLISH_PLEDGE\r\n                                        :\r\n                                        ADMIN_OFFER_STATES_PUBLISH_PITCH\r\n                    });\r\n                });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Detach changes listener for this pitch\r\n     */\r\n    detachProjectChangedListener = () => {\r\n        if (this.projectListener) {\r\n            this.projectListener.off(\"value\");\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Handle when a document is clicked (download it)\r\n     *\r\n     * @param downloadURL\r\n     */\r\n    handleDocumentClick = downloadURL => {\r\n        window.open(downloadURL, \"_blank\");\r\n    };\r\n\r\n    /**\r\n     * Handle when the Super user decides whether the project can go live or not\r\n     *\r\n     * @param decision\r\n     */\r\n    handleMakeProjectGoLiveDecision = decision => {\r\n        const {\r\n            user\r\n        } = this.props;\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        realtimeDBUtils\r\n            .makeProjectGoLiveDecision(user, JSON.parse(JSON.stringify(project)), decision)\r\n            .then(() => {\r\n                // success\r\n            })\r\n            .catch(error => {\r\n                // handle error\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Handle when the Super user decides whether the project can go to the Pledge phase\r\n     *\r\n     * @param decision\r\n     */\r\n    handleMakeProjectGoToPledgePhaseDecision = decision => {\r\n        const {\r\n            user\r\n        } = this.props;\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        if (project.Pitch.status !== DB_CONST.PITCH_STATUS_ON_GOING\r\n            && project.Pitch.status !== DB_CONST.PITCH_STATUS_WAITING_FOR_ADMIN\r\n        ) {\r\n            return;\r\n        }\r\n\r\n        realtimeDBUtils\r\n            .makeProjectGoToPledgePhaseDecision(user, JSON.parse(JSON.stringify(project)), decision)\r\n            .then(() => {\r\n                // success\r\n            })\r\n            .catch(error => {\r\n                // handle error\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Handle when the Super user decides whether the project's Pledge can go live\r\n     *\r\n     * @param decision\r\n     */\r\n    handleMakeProjectPledgeGoLiveDecision = decision => {\r\n        const {\r\n            user\r\n        } = this.props;\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        realtimeDBUtils\r\n            .makeProjectPledgeGoLiveDecision(user, JSON.parse(JSON.stringify(project)), decision)\r\n            .then(() => {\r\n                // success\r\n            })\r\n            .catch(error => {\r\n                // handle error\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Handle when the main body tab changed\r\n     *\r\n     * @param event\r\n     * @param value\r\n     */\r\n    handleMainBodyTabChanged = (event, value) => {\r\n        this.setState({\r\n            mainBody: value\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Handle when the Post a comment button clicked (open a dialog for the Investors to write their comment)\r\n     */\r\n    handlePostACommentClick = () => {\r\n        this.setState({\r\n            commentDialogOpen: true\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Handle when the comment dialog is closed\r\n     */\r\n    handleCloseCommentDialog = () => {\r\n        this.setState({\r\n            commentDialogOpen: false,\r\n            commentText: '',\r\n            commentSubmitClick: false\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Handle text changed\r\n     *\r\n     * @param event\r\n     */\r\n    handleTextChanged = event => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Handle date changed\r\n     *\r\n     * @param date\r\n     */\r\n    handleDateChanged = date => {\r\n        if (date && date === \"Invalid Date\") {\r\n            this.setState({\r\n                changedPitchExpiryDate: NaN\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            changedPitchExpiryDate:\r\n                !date\r\n                    ?\r\n                    null\r\n                    :\r\n                    date.getTime()\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle when the Investor clicks to submit their comment\r\n     */\r\n    handleSubmitCommentClick = () => {\r\n        const {\r\n            groupProperties,\r\n            user,\r\n\r\n            setFeedbackSnackbarContent\r\n        } = this.props;\r\n\r\n        const {\r\n            commentText\r\n        } = this.state;\r\n\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        this.setState({\r\n            commentSubmitClick: true\r\n        });\r\n\r\n        if (commentText.trim().length === 0) {\r\n            return;\r\n        }\r\n\r\n        const id = this.database\r\n            .ref(DB_CONST.COMMENTS_CHILD)\r\n            .push()\r\n            .key;\r\n\r\n        const comment = {\r\n            id,\r\n            commenterANID: groupProperties ? groupProperties.anid : null,\r\n            projectID: project.id,\r\n            commentedBy: user.id,\r\n            status: DB_CONST.COMMENT_STATUS_POSTED,\r\n            commentedDate: utils.getCurrentDate(),\r\n            comment: commentText\r\n        };\r\n\r\n        this.database\r\n            .ref(DB_CONST.COMMENTS_CHILD)\r\n            .child(id)\r\n            .set(comment)\r\n            .then(() => {\r\n                // track investor's activity for posting a new comment\r\n                realtimeDBUtils\r\n                    .trackActivity({\r\n                        userID: user.id,\r\n                        activityType: DB_CONST.ACTIVITY_TYPE_POST,\r\n                        interactedObjectLocation: DB_CONST.COMMENTS_CHILD,\r\n                        interactedObjectID: id,\r\n                        activitySummary: realtimeDBUtils.ACTIVITY_SUMMARY_TEMPLATE_COMMENTED_IN_PROJECT.replace(\"%project%\", project.projectName),\r\n                        action: ROUTES.PROJECT_DETAILS_INVEST_WEST_SUPER.replace(\":projectID\", project.id),\r\n                        value: comment\r\n                    });\r\n\r\n                // send a notification to notify the issuer\r\n                realtimeDBUtils\r\n                    .sendNotification({\r\n                        title: \"Someone commented on your pitch\",\r\n                        message: \"An investor has commented on your pitch. Go and see what they said.\",\r\n                        userID: project.issuerID,\r\n                        action: ROUTES.PROJECT_DETAILS_INVEST_WEST_SUPER.replace(\":projectID\", project.id)\r\n                    })\r\n                    .then(() => {\r\n                        this.handleCloseCommentDialog();\r\n                    })\r\n                    .catch(error => {\r\n                        this.handleCloseCommentDialog();\r\n                    });\r\n\r\n                setFeedbackSnackbarContent(\r\n                    \"Comment added.\",\r\n                    \"primary\",\r\n                    \"bottom\"\r\n                );\r\n            })\r\n            .catch(error => {\r\n                this.handleCloseCommentDialog();\r\n\r\n                setFeedbackSnackbarContent(\r\n                    \"Error happened. Could not add comment.\",\r\n                    \"error\",\r\n                    \"bottom\"\r\n                );\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Handle when the user (investor) cancels the update for their comment\r\n     */\r\n    handleCancelUpdateCurrentComment = () => {\r\n        const {\r\n            currentComment\r\n        } = this.state;\r\n\r\n        this.setState({\r\n            currentCommentText: !currentComment.comment ? '' : currentComment.comment\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Handle when the user (investor) submits the update for their comment\r\n     */\r\n    handleSubmitUpdateCurrentComment = () => {\r\n        const {\r\n            currentComment,\r\n            currentCommentText\r\n        } = this.state;\r\n\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        const {\r\n            setFeedbackSnackbarContent\r\n        } = this.props;\r\n\r\n        if (currentCommentText.trim().length === 0) {\r\n            return;\r\n        }\r\n\r\n        let newComment = JSON.parse(JSON.stringify(currentComment));\r\n        newComment.status = DB_CONST.COMMENT_STATUS_EDITED;\r\n        newComment.comment = currentCommentText;\r\n        newComment.commentedDate = utils.getCurrentDate();\r\n        newComment.replies = null;\r\n        newComment.author = null;\r\n\r\n        this.database\r\n            .ref(DB_CONST.COMMENTS_CHILD)\r\n            .child(newComment.id)\r\n            .update(newComment)\r\n            .then(() => {\r\n                // track investor's activity\r\n                realtimeDBUtils\r\n                    .trackActivity({\r\n                        userID: currentComment.commentedBy,\r\n                        activityType: DB_CONST.ACTIVITY_TYPE_POST,\r\n                        interactedObjectLocation: DB_CONST.COMMENTS_CHILD,\r\n                        interactedObjectID: currentComment.id,\r\n                        activitySummary: realtimeDBUtils.ACTIVITY_SUMMARY_TEMPLATE_EDITED_COMMENT_IN_PROJECT.replace(\"%project%\", project.projectName),\r\n                        action: ROUTES.PROJECT_DETAILS_INVEST_WEST_SUPER.replace(\":projectID\", project.id),\r\n                        value: {\r\n                            before: JSON.parse(JSON.stringify(currentComment)),\r\n                            after: newComment\r\n                        }\r\n                    });\r\n\r\n                setFeedbackSnackbarContent(\r\n                    \"Comment updated.\",\r\n                    \"primary\",\r\n                    \"bottom\"\r\n                );\r\n            });\r\n    };\r\n\r\n    /**\r\n     * Handle to toggle the input area to allow the project's owners to reply to investor's comments\r\n     *\r\n     * @param comment\r\n     * @param replyEdited\r\n     */\r\n    handleToggleReplyToComment = (comment, replyEdited) => {\r\n        this.setState({\r\n            replyingToComment: comment,\r\n            replyText: replyEdited ? replyEdited.text : '',\r\n            replyEdited\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle to submit comment reply\r\n     */\r\n    handleSubmitCommentReply = () => {\r\n        const {\r\n            replyingToComment,\r\n            replyText,\r\n            replyEdited\r\n        } = this.state;\r\n\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        const {\r\n            user,\r\n            setFeedbackSnackbarContent\r\n        } = this.props;\r\n\r\n        if (!replyEdited) {\r\n            const commentReply = {\r\n                text: replyText,\r\n                repliedDate: utils.getCurrentDate(),\r\n                projectID: project.id,\r\n                commentID: replyingToComment.id,\r\n                repliedBy: user.id,\r\n                status: DB_CONST.COMMENT_REPLY_STATUS_POSTED\r\n            };\r\n\r\n            realtimeDBUtils\r\n                .postCommentReply(commentReply)\r\n                .then(replyID => {\r\n                    // track activity\r\n                    realtimeDBUtils\r\n                        .trackActivity({\r\n                            userID: user.id,\r\n                            activityType: DB_CONST.ACTIVITY_TYPE_POST,\r\n                            interactedObjectLocation: DB_CONST.COMMENT_REPLIES_CHILD,\r\n                            interactedObjectID: replyID,\r\n                            activitySummary: realtimeDBUtils\r\n                                .ACTIVITY_SUMMARY_TEMPLATE_REPLIED_TO_A_COMMENT\r\n                                .replace(\"%projectName%\", project.projectName)\r\n                            ,\r\n                            action: ROUTES\r\n                                .PROJECT_DETAILS_INVEST_WEST_SUPER\r\n                                .replace(\":projectID\", project.id)\r\n                            ,\r\n                            value: {\r\n                                ...commentReply,\r\n                                id: replyID\r\n                            }\r\n                        });\r\n\r\n                    // turn off input area\r\n                    this.handleToggleReplyToComment(null, null);\r\n\r\n                    setFeedbackSnackbarContent(\r\n                        \"Reply added.\",\r\n                        \"primary\",\r\n                        \"bottom\"\r\n                    );\r\n                })\r\n                .catch(error => {\r\n                    // handle error\r\n                    setFeedbackSnackbarContent(\r\n                        \"Error happened. Could not add reply.\",\r\n                        \"error\",\r\n                        \"bottom\"\r\n                    );\r\n                });\r\n        } else {\r\n            let replyBeforeUpdating = JSON.parse(JSON.stringify(replyEdited));\r\n            replyBeforeUpdating.author = null\r\n\r\n            let replyAfterUpdating = JSON.parse(JSON.stringify(replyBeforeUpdating));\r\n            replyAfterUpdating.text = replyText;\r\n            replyAfterUpdating.status = DB_CONST.COMMENT_REPLY_STATUS_EDITED;\r\n            replyAfterUpdating.repliedDate = utils.getCurrentDate();\r\n\r\n            realtimeDBUtils\r\n                .updateCommentReply(replyAfterUpdating)\r\n                .then(() => {\r\n                    // track activity\r\n                    realtimeDBUtils\r\n                        .trackActivity({\r\n                            userID: user.id,\r\n                            activityType: DB_CONST.ACTIVITY_TYPE_POST,\r\n                            interactedObjectLocation: DB_CONST.COMMENT_REPLIES_CHILD,\r\n                            interactedObjectID: replyAfterUpdating.id,\r\n                            activitySummary: realtimeDBUtils\r\n                                .ACTIVITY_SUMMARY_TEMPLATE_EDITED_A_REPLY_OF_A_COMMENT\r\n                                .replace(\"%projectName%\", project.projectName)\r\n                            ,\r\n                            action: ROUTES\r\n                                .PROJECT_DETAILS_INVEST_WEST_SUPER\r\n                                .replace(\":projectID\", project.id)\r\n                            ,\r\n                            value: {\r\n                                before: replyBeforeUpdating,\r\n                                after: replyAfterUpdating\r\n                            }\r\n                        });\r\n\r\n                    // turn off input area\r\n                    this.handleToggleReplyToComment(null, null);\r\n\r\n                    setFeedbackSnackbarContent(\r\n                        \"Reply updated.\",\r\n                        \"primary\",\r\n                        \"bottom\"\r\n                    );\r\n                })\r\n                .catch(error => {\r\n                    // handle error\r\n                    setFeedbackSnackbarContent(\r\n                        \"Error happened. Could not update reply.\",\r\n                        \"error\",\r\n                        \"bottom\"\r\n                    );\r\n                });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Handle to delete a reply of a comment\r\n     *\r\n     * @param reply\r\n     */\r\n    handleDeleteCommentReply = reply => {\r\n\r\n        const {\r\n            user,\r\n            setFeedbackSnackbarContent\r\n        } = this.props;\r\n\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        realtimeDBUtils\r\n            .deleteCommentReply(reply.id)\r\n            .then(() => {\r\n                // track activity\r\n                realtimeDBUtils\r\n                    .trackActivity({\r\n                        userID: user.id,\r\n                        activityType: DB_CONST.ACTIVITY_TYPE_POST,\r\n                        interactedObjectLocation: DB_CONST.COMMENT_REPLIES_CHILD,\r\n                        interactedObjectID: reply.id,\r\n                        activitySummary: realtimeDBUtils\r\n                            .ACTIVITY_SUMMARY_TEMPLATE_DELETED_A_REPLY_OF_A_COMMENT\r\n                            .replace(\"%projectName%\", project.projectName)\r\n                        ,\r\n                        action: ROUTES\r\n                            .PROJECT_DETAILS_INVEST_WEST_SUPER\r\n                            .replace(\":projectID\", project.id)\r\n                        ,\r\n                        value: {\r\n                            before: {\r\n                                ...reply,\r\n                                author: null\r\n                            },\r\n                            after: {\r\n                                ...reply,\r\n                                author: null,\r\n                                deleted: true\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                setFeedbackSnackbarContent(\r\n                    \"Reply deleted.\",\r\n                    \"primary\",\r\n                    \"bottom\"\r\n                );\r\n            })\r\n            .catch(error => {\r\n                // handle error\r\n                setFeedbackSnackbarContent(\r\n                    \"Error happened. Could not delete reply.\",\r\n                    \"error\",\r\n                    \"bottom\"\r\n                );\r\n            });\r\n    }\r\n\r\n    /**\r\n     * Offer states click to change active step\r\n     *\r\n     * @param step\r\n     */\r\n    handleAdminOfferStatesStepClick = step => {\r\n        this.setState({\r\n            adminOfferStatesActiveStep: step\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Bring pitch back to live again\r\n     *\r\n     * @returns {Promise<void>}\r\n     */\r\n    bringPitchBackToLive = async () => {\r\n        const {\r\n            project\r\n        } = this.state.projectDetail;\r\n\r\n        const {\r\n            changedPitchExpiryDate\r\n        } = this.state;\r\n\r\n        const {\r\n            user,\r\n            setFeedbackSnackbarContent\r\n        } = this.props;\r\n\r\n        if (user.type !== DB_CONST.TYPE_ADMIN) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await realtimeDBUtils\r\n                .bringPitchBackToLive({\r\n                    project: JSON.parse(JSON.stringify(project)),\r\n                    newPitchExpiryDate: changedPitchExpiryDate\r\n                });\r\n\r\n            setFeedbackSnackbarContent(\r\n                \"Pitch is now live again.\",\r\n                \"primary\",\r\n                \"bottom\"\r\n            );\r\n        } catch (error) {\r\n            // handle error\r\n            setFeedbackSnackbarContent(\r\n                \"Error happened. Couldn't update pitch.\",\r\n                \"error\",\r\n                \"bottom\"\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle reject feedback\r\n     */\r\n    toggleRejectFeedback = () => {\r\n        this.setState({\r\n            addingRejectFeedback: !this.state.addingRejectFeedback,\r\n            rejectFeedback: \"\"\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Send project back to issuer\r\n     */\r\n    sendProjectBackToIssuer = async () => {\r\n        const {\r\n            projectDetail,\r\n            rejectFeedback,\r\n            sendingProjectBack\r\n        } = this.state;\r\n\r\n        const {\r\n            setFeedbackSnackbarContent\r\n        } = this.props;\r\n\r\n        if (rejectFeedback.trim().length === 0 || sendingProjectBack) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            sendingProjectBack: true\r\n        });\r\n\r\n        try {\r\n            // send project back to the issuer\r\n            await new Api().request(\r\n                \"post\",\r\n                ApiRoutes.sendProjectBackToIssuerRoute,\r\n                {\r\n                    queryParameters: null,\r\n                    requestBody: {\r\n                        projectID: projectDetail.project.id,\r\n                        feedback: rejectFeedback\r\n                    }\r\n                }\r\n            );\r\n\r\n            this.setState({\r\n                sendingProjectBack: false\r\n            });\r\n\r\n            setFeedbackSnackbarContent(\r\n                \"Pitch has been sent back.\",\r\n                \"primary\",\r\n                \"bottom\"\r\n            );\r\n        } catch (error) {\r\n            setFeedbackSnackbarContent(\r\n                \"Error happened. Couldn't send offer back.\",\r\n                \"error\",\r\n                \"bottom\"\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            AuthenticationState,\r\n\r\n            isMobile,\r\n\r\n            groupUserName,\r\n            groupProperties,\r\n            groupPropertiesLoaded,\r\n            shouldLoadOtherData,\r\n\r\n            authStatus,\r\n            authenticating,\r\n            user,\r\n            userLoaded,\r\n            groupsUserIsIn,\r\n\r\n            investorSelfCertificationAgreement,\r\n\r\n            createPledgeDialog_toggleDialog,\r\n            createPledgeDialog_setProject,\r\n\r\n            projectVisibilitySetting,\r\n            selectProjectVisibility_setProject\r\n        } = this.props;\r\n\r\n        const {\r\n            investorPledge,\r\n            investorPledgeLoaded,\r\n\r\n            mainBody,\r\n            adminOfferStatesActiveStep,\r\n\r\n            comments,\r\n            commentsLoaded,\r\n\r\n            commentDialogOpen,\r\n            commentText,\r\n            commentSubmitClick,\r\n\r\n            currentComment,\r\n            currentCommentText,\r\n\r\n            replyingToComment,\r\n            replyText,\r\n            replyEdited,\r\n\r\n            changedPitchExpiryDate,\r\n\r\n            addingRejectFeedback,\r\n            rejectFeedback,\r\n            sendingProjectBack\r\n        } = this.state;\r\n\r\n        const {\r\n            project,\r\n            projectLoaded,\r\n\r\n            pledges,\r\n            pledgesLoaded,\r\n\r\n            votes,\r\n            votesLoaded,\r\n\r\n            projectIssuer,\r\n            projectIssuerLoaded\r\n        } = this.state.projectDetail;\r\n\r\n        if (!groupPropertiesLoaded) {\r\n            return (\r\n                <FlexView marginTop={30} hAlignContent=\"center\">\r\n                    <HashLoader color={colors.primaryColor}/>\r\n                </FlexView>\r\n            );\r\n        }\r\n\r\n        if (!shouldLoadOtherData) {\r\n            return <PageNotFoundWhole/>;\r\n        }\r\n\r\n        if (authenticating || !userLoaded || isAuthenticating(AuthenticationState)) {\r\n            return (\r\n                <FlexView marginTop={30} hAlignContent=\"center\">\r\n                    <HashLoader\r\n                        color={\r\n                            !groupProperties\r\n                                ?\r\n                                colors.primaryColor\r\n                                :\r\n                                groupProperties.settings.primaryColor\r\n                        }\r\n                    />\r\n                </FlexView>\r\n            );\r\n        }\r\n\r\n        if (authStatus !== AUTH_SUCCESS || !user || hasAuthenticationError(AuthenticationState)) {\r\n            return <PageNotFoundWhole/>;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <ProjectDetails\r\n                    AuthenticationState={this.props.AuthenticationState}\r\n                    groupUserName={groupUserName}\r\n                    groupProperties={groupProperties}\r\n                    isMobile={isMobile}\r\n                    user={user}\r\n                    userLoaded={userLoaded}\r\n                    groupsUserIsIn={groupsUserIsIn}\r\n                    investorSelfCertificationAgreement={investorSelfCertificationAgreement}\r\n                    mainBody={mainBody}\r\n                    adminOfferStatesActiveStep={adminOfferStatesActiveStep}\r\n                    comments={comments}\r\n                    commentsLoaded={commentsLoaded}\r\n                    currentComment={currentComment}\r\n                    currentCommentText={currentCommentText}\r\n                    replyingToComment={replyingToComment}\r\n                    replyText={replyText}\r\n                    replyEdited={replyEdited}\r\n                    changedPitchExpiryDate={changedPitchExpiryDate}\r\n                    addingRejectFeedback={addingRejectFeedback}\r\n                    rejectFeedback={rejectFeedback}\r\n                    sendingProjectBack={sendingProjectBack}\r\n                    project={project}\r\n                    projectLoaded={projectLoaded}\r\n                    votes={votes}\r\n                    votesLoaded={votesLoaded}\r\n                    pledges={pledges}\r\n                    pledgesLoaded={pledgesLoaded}\r\n                    investorPledge={investorPledge}\r\n                    investorPledgeLoaded={investorPledgeLoaded}\r\n                    projectIssuer={projectIssuer}\r\n                    projectIssuerLoaded={projectIssuerLoaded}\r\n                    projectVisibilitySetting={projectVisibilitySetting}\r\n                    onVote={this.handleVotePitch}\r\n                    onDocumentClick={this.handleDocumentClick}\r\n                    // only available for admins ----------------------------\r\n                    onMakeProjectGoLiveDecision={this.handleMakeProjectGoLiveDecision}\r\n                    onMakeProjectGoToPledgePhaseDecision={this.handleMakeProjectGoToPledgePhaseDecision}\r\n                    onMakeProjectPledgeGoLiveDecision={this.handleMakeProjectPledgeGoLiveDecision}\r\n                    //-------------------------------------------------------\r\n                    onTabChanged={this.handleMainBodyTabChanged}\r\n                    onPostACommentClick={this.handlePostACommentClick}\r\n                    onTextChanged={this.handleTextChanged}\r\n                    onDateChanged={this.handleDateChanged}\r\n                    onCancelUpdateCurrentComment={this.handleCancelUpdateCurrentComment}\r\n                    onSubmitUpdateCurrentComment={this.handleSubmitUpdateCurrentComment}\r\n                    onToggleReplyToComment={this.handleToggleReplyToComment}\r\n                    onSubmitCommentReply={this.handleSubmitCommentReply}\r\n                    onDeleteCommentReply={this.handleDeleteCommentReply}\r\n                    onAdminOfferStatesStepClick={this.handleAdminOfferStatesStepClick}\r\n                    createPledgeDialog_toggleDialog={createPledgeDialog_toggleDialog}\r\n                    createPledgeDialog_setProject={createPledgeDialog_setProject}\r\n                    selectProjectVisibility_setProject={selectProjectVisibility_setProject}\r\n                    bringPitchBackToLive={this.bringPitchBackToLive}\r\n                    toggleRejectFeedback={this.toggleRejectFeedback}\r\n                    sendProjectBackToIssuer={this.sendProjectBackToIssuer}\r\n                    toggleContactPitchOwnerDialog={() => this.props.toggleContactPitchOwnerDialog(project.projectName, projectIssuer.email)}\r\n                />\r\n\r\n                <CommentDialog\r\n                    open={commentDialogOpen}\r\n                    project={project}\r\n                    commentText={commentText}\r\n                    commentSubmitClick={commentSubmitClick}\r\n                    onClose={this.handleCloseCommentDialog}\r\n                    onCommentTextChanged={this.handleTextChanged}\r\n                    onSubmitCommentClick={this.handleSubmitCommentClick}\r\n                />\r\n\r\n                <CreatePledgeDialog/>\r\n\r\n                <ContactPitchOwnerDialog/>\r\n\r\n                <FeedbackSnackbarNew/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ProjectDetails extends Component {\r\n\r\n    /**\r\n     * Handle when the navigation tab is changed\r\n     *\r\n     * @param event\r\n     * @param value\r\n     */\r\n    onTabChanged = (event, value) => {\r\n        this.props.onTabChanged(event, value);\r\n    };\r\n\r\n    /**\r\n     * Handle when text input changed\r\n     *\r\n     * @param event\r\n     */\r\n    onTextChanged = event => {\r\n        this.props.onTextChanged(event);\r\n    };\r\n\r\n    /**\r\n     * Handle date changed\r\n     *\r\n     * @param date\r\n     */\r\n    onDateChanged = date => {\r\n        this.props.onDateChanged(date);\r\n    }\r\n\r\n    /**\r\n     * Handle when the vote button is clicked.\r\n     *\r\n     * @param vote\r\n     */\r\n    onVote = vote => {\r\n        this.props.onVote(vote);\r\n    };\r\n\r\n    /**\r\n     * Handle when a document is clicked\r\n     */\r\n    onDocumentClick = downloadURL => {\r\n        this.props.onDocumentClick(downloadURL);\r\n    };\r\n\r\n    /**\r\n     * Make a decision whether a project can go live (Admin only)\r\n     *\r\n     * @param decision\r\n     */\r\n    onMakeProjectGoLiveDecision = decision => {\r\n        this.props.onMakeProjectGoLiveDecision(decision);\r\n    };\r\n\r\n    /**\r\n     * Make a decision whether a project can go to the Pledge phase\r\n     *\r\n     * @param decision\r\n     */\r\n    onMakeProjectGoToPledgePhaseDecision = decision => {\r\n        this.props.onMakeProjectGoToPledgePhaseDecision(decision);\r\n    };\r\n    /**\r\n     * Make a decision whether a project's Pledge can go live\r\n     *\r\n     * @param decision\r\n     */\r\n    onMakeProjectPledgeGoLiveDecision = decision => {\r\n        this.props.onMakeProjectPledgeGoLiveDecision(decision);\r\n    };\r\n\r\n    /**\r\n     * Handle when the Post comment button is clicked --> Open comment dialog\r\n     */\r\n    onPostACommentClick = () => {\r\n        this.props.onPostACommentClick();\r\n    };\r\n\r\n    /**\r\n     * Handle to cancel updating current comment\r\n     */\r\n    onCancelUpdateCurrentComment = () => {\r\n        this.props.onCancelUpdateCurrentComment();\r\n    };\r\n\r\n    /**\r\n     * Handle to submit the updated comment\r\n     */\r\n    onSubmitUpdateCurrentComment = () => {\r\n        this.props.onSubmitUpdateCurrentComment();\r\n    };\r\n\r\n    /**\r\n     * Handle to toggle input area to allow the project's owners to reply to the investor's comments\r\n     *\r\n     * @param comment\r\n     * @param replyEdited\r\n     */\r\n    onToggleReplyToComment = (comment, replyEdited) => {\r\n        this.props.onToggleReplyToComment(comment, replyEdited);\r\n    }\r\n\r\n    /**\r\n     * Handle to submit comment reply\r\n     */\r\n    onSubmitCommentReply = () => {\r\n        this.props.onSubmitCommentReply();\r\n    }\r\n\r\n    /**\r\n     * Handle to delete a reply of a comment\r\n     *\r\n     * @param reply\r\n     */\r\n    onDeleteCommentReply = reply => {\r\n        this.props.onDeleteCommentReply(reply);\r\n    }\r\n\r\n    /**\r\n     * Handle when the offer state is changed\r\n     *\r\n     * @param step\r\n     */\r\n    onAdminOfferStatesStepClick = step => {\r\n        this.props.onAdminOfferStatesStepClick(step);\r\n    };\r\n\r\n    /**\r\n     * Bring pitch back to live\r\n     */\r\n    bringPitchBackToLive = () => {\r\n        this.props.bringPitchBackToLive();\r\n    }\r\n\r\n    /**\r\n     * Toggle reject feedback\r\n     */\r\n    toggleRejectFeedback = () => {\r\n        this.props.toggleRejectFeedback();\r\n    }\r\n\r\n    /**\r\n     * Send project back to issuer\r\n     */\r\n    sendProjectBackToIssuer = () => {\r\n        this.props.sendProjectBackToIssuer();\r\n    }\r\n\r\n    /**\r\n     * Toggle contact pitch owner dialog\r\n     */\r\n    toggleContactPitchOwnerDialog = () => {\r\n        this.props.toggleContactPitchOwnerDialog();\r\n    }\r\n\r\n    /**\r\n     * Render the page content\r\n     */\r\n    renderPageContent = () => {\r\n        const {\r\n            AuthenticationState,\r\n\r\n            groupsUserIsIn,\r\n\r\n            groupUserName,\r\n            groupProperties,\r\n\r\n            isMobile,\r\n\r\n            user,\r\n\r\n            investorSelfCertificationAgreement,\r\n\r\n            mainBody,\r\n            adminOfferStatesActiveStep,\r\n\r\n            comments,\r\n            commentsLoaded,\r\n\r\n            project,\r\n\r\n            pledges,\r\n            pledgesLoaded,\r\n\r\n            votesLoaded,\r\n\r\n            investorPledge,\r\n            investorPledgeLoaded,\r\n\r\n            projectIssuer,\r\n            projectIssuerLoaded,\r\n\r\n            currentComment,\r\n            currentCommentText,\r\n\r\n            replyingToComment,\r\n            replyText,\r\n            replyEdited,\r\n\r\n            changedPitchExpiryDate,\r\n\r\n            addingRejectFeedback,\r\n            rejectFeedback,\r\n            sendingProjectBack,\r\n\r\n            projectVisibilitySetting,\r\n\r\n            createPledgeDialog_toggleDialog,\r\n            createPledgeDialog_setProject,\r\n            selectProjectVisibility_setProject\r\n        } = this.props;\r\n\r\n        // if the data is being loaded\r\n        // display loading\r\n        if (!pledgesLoaded\r\n            || !votesLoaded\r\n            || !investorPledgeLoaded\r\n            || !projectIssuerLoaded\r\n        ) {\r\n            return (\r\n                <Row noGutters>\r\n                    <Col xs={12} md={12} lg={12}>\r\n                        <FlexView width=\"100%\" marginTop={20} hAlignContent=\"center\">\r\n                            <HashLoader\r\n                                color={\r\n                                    !groupProperties\r\n                                        ?\r\n                                        colors.primaryColor\r\n                                        :\r\n                                        groupProperties.settings.primaryColor\r\n                                }\r\n                            />\r\n                        </FlexView>\r\n                    </Col>\r\n                </Row>\r\n            );\r\n        }\r\n\r\n        // return Page Not Found for security reason\r\n        if (!project\r\n            || !pledges\r\n            || !projectIssuer\r\n            // the project is private\r\n            // the user is an investor/issuer that is not in the group that owns this project\r\n            || (\r\n                project.visibility === DB_CONST.PROJECT_VISIBILITY_PRIVATE\r\n                && (user.type === DB_CONST.TYPE_INVESTOR || user.type === DB_CONST.TYPE_ISSUER)\r\n                && (groupsUserIsIn !== null && groupsUserIsIn.findIndex(group => group.anid === project.anid) === -1)\r\n            )\r\n        ) {\r\n            return (\r\n                <Row noGutters>\r\n                    <Col xs={12} md={12} lg={12}>\r\n                        <PageNotFound/>\r\n                    </Col>\r\n                </Row>\r\n            );\r\n        }\r\n\r\n        // the project is temporarily closed\r\n        // only display its content to the super admins,\r\n        // group admins that own this project, and the issuer of this project\r\n        if (utils.isProjectTemporarilyClosed(project)\r\n            && (\r\n                (user.type === DB_CONST.TYPE_ISSUER && user.id !== project.issuerID)\r\n                || (user.type === DB_CONST.TYPE_INVESTOR)\r\n                || (user.type === DB_CONST.TYPE_ADMIN && !user.superAdmin && user.anid !== project.anid)\r\n            )\r\n        ) {\r\n            return (\r\n                <Row noGutters style={{marginLeft: 10, marginRight: 10}}>\r\n                    <Col xs={12} md={{span: 10, offset: 1}} lg={{span: 8, offset: 2}}>\r\n                        <FlexView marginTop={40} hAlignContent=\"center\">\r\n                            <Typography variant=\"h5\" align=\"center\">This offer has been closed temporarily.</Typography>\r\n                        </FlexView>\r\n                    </Col>\r\n                </Row>\r\n            );\r\n        }\r\n\r\n        // the project is private\r\n        // the user is a group admin that does not own this project\r\n        if (project.visibility === DB_CONST.PROJECT_VISIBILITY_PRIVATE\r\n            && (user.type === DB_CONST.TYPE_ADMIN)\r\n            && !user.superAdmin\r\n            && user.anid !== project.anid\r\n        ) {\r\n            return (\r\n                <Row noGutters style={{marginLeft: 10, marginRight: 10}}>\r\n                    <Col xs={12} md={{span: 10, offset: 1}} lg={{span: 8, offset: 2}}>\r\n                        <FlexView marginTop={40} hAlignContent=\"center\">\r\n                            <Typography variant=\"h5\" align=\"center\"> You can only edit offers from your group.</Typography>\r\n                        </FlexView>\r\n                    </Col>\r\n                </Row>\r\n            );\r\n        }\r\n\r\n        let sortedComments = comments;\r\n        // if the list of comments is not null\r\n        if (sortedComments) {\r\n            // sort by oldest day first\r\n            sortedComments.sort((comment1, comment2) => {\r\n                return (comment1.commentedDate - comment2.commentedDate);\r\n            });\r\n\r\n            let currentCommentIndex = sortedComments.findIndex(comment => comment.commentedBy === user.id);\r\n            if (currentCommentIndex !== -1) {\r\n                const currentComment = comments[currentCommentIndex];\r\n                sortedComments.splice(currentCommentIndex, 1);\r\n                sortedComments.push(currentComment);\r\n            }\r\n\r\n            sortedComments.reverse();\r\n        }\r\n\r\n        // sort replies in each comment\r\n        sortedComments.forEach(comment => {\r\n            comment.replies.sort((reply1, reply2) => {\r\n                return reply2.repliedDate - reply1.repliedDate;\r\n            });\r\n        });\r\n\r\n        return (\r\n            <Container fluid style={{paddingLeft: 0, paddingRight: 0, paddingTop: 0, paddingBottom: 100}}>\r\n                <Row noGutters style={{paddingTop: 25, paddingBottom: 25, backgroundColor: colors.kick_starter_background_color}}>\r\n                    {/** Banner to announce if a project is temporarily closed */}\r\n                    {\r\n                        !utils.isProjectTemporarilyClosed(project)\r\n                            ?\r\n                            null\r\n                            :\r\n                            <Col xs={{span: 12, offset: 0, order: 0}} sm={{span: 12, offset: 0, order: 0}} md={{span: 12, offset: 0, order: 0}} lg={{span: 12, offset: 0, order: 0}}>\r\n                                <FlexView marginBottom={20} hAlignContent=\"center\" style={{backgroundColor: colors.errorColor, padding: 15}} >\r\n                                    <Typography variant=\"body2\" align=\"center\" className={css(sharedStyles.white_text)}><b>This offer has been temporarily closed.</b></Typography>\r\n                                </FlexView>\r\n                            </Col>\r\n                    }\r\n\r\n                    {/** Pledge (displayed if the user is an investor and has pledged this project before) */}\r\n                    {\r\n                        !investorPledge\r\n                            ?\r\n                            null\r\n                            :\r\n                            <Col xs={{span: 12, offset: 0, order: 2}} sm={{span: 12, offset: 0, order: 2}} md={{span: 10, offset: 1, order: 2}} lg={{span: 10, offset: 1, order: 1}}>\r\n                                <Paper elevation={3} style={{margin: 12}} square>\r\n                                    <Row noGutters style={{padding: 6}}>\r\n                                        <Col xs={12} sm={12} md={{span: 5, order: 1}} lg={{span: 3, order: 1}}>\r\n                                            <FlexView hAlignContent=\"center\" vAlignContent=\"center\" height=\"100%\" width=\"100%\" style={{padding: 10}}>\r\n                                                <CheckCircleIcon color=\"primary\" style={{marginRight: 15}}/>\r\n                                                <Typography align=\"left\" variant=\"body1\">\r\n                                                    {\r\n                                                        investorPledge.status === DB_CONST.MAKE_A_NEW_PLEDGE\r\n                                                            ?\r\n                                                            `You pledged ${Number(investorPledge.amount.toFixed(2)).toLocaleString()}.`\r\n                                                            :\r\n                                                            `You updated your pledge to ${Number(investorPledge.amount.toFixed(2)).toLocaleString()}.`\r\n                                                    }\r\n                                                </Typography>\r\n                                            </FlexView>\r\n                                        </Col>\r\n                                        <Col xs={12} sm={12} md={{span: 5, offset: 2, order: 2}} lg={{span: 3, offset: 6, order: 2}}>\r\n                                            <FlexView width=\"100%\" hAlignContent=\"center\" style={{padding: 10}}>\r\n                                                {\r\n                                                    !utils.isProjectInLivePledgePhase(project)\r\n                                                        ?\r\n                                                        <Typography align=\"left\" variant=\"body2\" color=\"secondary\">Offer has ended. You can't change your pledge anymore.</Typography>\r\n                                                        :\r\n                                                        <NavLink\r\n                                                            to={{\r\n                                                                pathname: groupUserName\r\n                                                                    ?\r\n                                                                    ROUTES.PLEDGE.replace(\":groupUserName\", groupUserName)\r\n                                                                    :\r\n                                                                    ROUTES.PLEDGE_INVEST_WEST_SUPER\r\n                                                                ,\r\n                                                                search: `?project=${project.id}`\r\n                                                            }}\r\n                                                            className={css(sharedStyles.nav_link_hover)}\r\n                                                        >\r\n                                                            <Button className={css(sharedStyles.no_text_transform)} variant=\"outlined\" color=\"primary\">Manage your pledge</Button>\r\n                                                        </NavLink>\r\n                                                }\r\n                                            </FlexView>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Paper>\r\n                            </Col>\r\n                    }\r\n\r\n                    {/** Project title and description */}\r\n                    <Col xs={{span: 12, offset: 0, order: 3}} sm={{span: 12, offset: 0, order: 3}} md={{span: 10, offset: 1, order: 3}} lg={{span: 8, offset: 2, order: 2}} style={{paddingLeft: 20, paddingRight: 20, paddingTop: 20, paddingBottom: 40}}>\r\n                        <FlexView column width=\"100%\" hAlignContent=\"center\">\r\n                            <Typography align=\"center\" variant=\"h5\" style={{marginBottom: 12}}>\r\n                                {\r\n                                    this.shouldHideInformation()\r\n                                        ?\r\n                                        \"This is an offer\"\r\n                                        :\r\n                                        project.projectName\r\n                                }\r\n                            </Typography>\r\n                            <Typography className={css(styles.gray_text)} align=\"center\" variant=\"body1\" style={{whiteSpace: \"pre-line\"}}>\r\n                                {\r\n                                    this.shouldHideInformation()\r\n                                        ?\r\n                                        `in ${project.sector} sector`\r\n                                        :\r\n                                        project.description\r\n                                }\r\n                            </Typography>\r\n                            {\r\n                                user.type === DB_CONST.TYPE_ADMIN\r\n                                || (user.type === DB_CONST.TYPE_ISSUER && user.id === project.issuerID)\r\n                                    ?\r\n                                    <FlexView width=\"100%\" hAlignContent=\"center\" vAlignContent=\"center\" marginTop={20}>\r\n                                        {\r\n                                            !utils.shouldAProjectBeEdited(user, project)\r\n                                                ?\r\n                                                <Button color=\"default\" variant=\"outlined\" size=\"medium\" className={css(sharedStyles.no_text_transform)} disabled>\r\n                                                    <CreateIcon style={{marginRight: 8,  width: 20, height: \"auto\"}}\r\n                                                    />Edit offer</Button>\r\n                                                :\r\n                                                <NavLink\r\n                                                    to={\r\n                                                        groupUserName\r\n                                                            ?\r\n                                                            ROUTES.EDIT_OFFER\r\n                                                                .replace(\":groupUserName\", groupUserName)\r\n                                                                .replace(\":projectID\", project.id)\r\n                                                            :\r\n                                                            ROUTES.EDIT_OFFER_INVEST_WEST_SUPER\r\n                                                                .replace(\":projectID\", project.id)\r\n                                                    }\r\n                                                    className={css(sharedStyles.nav_link_hover_without_changing_text_color)}\r\n                                                >\r\n                                                    <Button color=\"default\" variant=\"outlined\" size=\"medium\" className={css(sharedStyles.no_text_transform)}>\r\n                                                        <CreateIcon style={{marginRight: 8, width: 20, height: \"auto\"}}/>Edit offer</Button>\r\n                                                </NavLink>\r\n                                        }\r\n                                        {/*<FlexView*/}\r\n                                        {/*    marginLeft={15}*/}\r\n                                        {/*>*/}\r\n                                        {/*    <InfoOverlay*/}\r\n                                        {/*        message={*/}\r\n                                        {/*            user.type === DB_CONST.TYPE_ADMIN*/}\r\n                                        {/*                ?*/}\r\n                                        {/*                \"Edit offer.\"*/}\r\n                                        {/*                :*/}\r\n                                        {/*                utils.isDraftProject(project)*/}\r\n                                        {/*                    ?*/}\r\n                                        {/*                    \"This offer is still a draft. Complete it.\"*/}\r\n                                        {/*                    :*/}\r\n                                        {/*                    !utils.shouldAProjectBeEdited(user, project)*/}\r\n                                        {/*                        ?*/}\r\n                                        {/*                        \"Pages cannot be edited.\"*/}\r\n                                        {/*                        :*/}\r\n                                        {/*                        `Pages can only be edited before the pitch phase expires. You can edit until ${utils.dateInReadableFormat(project.Pitch.expiredDate)}.`*/}\r\n                                        {/*        }*/}\r\n                                        {/*        placement=\"right\"*/}\r\n                                        {/*    />*/}\r\n                                        {/*</FlexView>*/}\r\n                                    </FlexView>\r\n                                    :\r\n                                    null\r\n                            }\r\n\r\n                            {\r\n                                user.id === project.issuerID\r\n                                    ?\r\n                                    null\r\n                                    :\r\n                                    <FlexView column hAlignContent=\"center\">\r\n                                        <NavLink\r\n                                            to={\r\n                                                this.shouldHideInformation()\r\n                                                || (\r\n                                                    project.hasOwnProperty('createdByGroupAdmin')\r\n                                                    && project.createdByGroupAdmin\r\n                                                )\r\n                                                    ?\r\n                                                    groupUserName\r\n                                                        ?\r\n                                                        ROUTES.VIEW_GROUP_DETAILS\r\n                                                            .replace(\":groupUserName\", groupUserName)\r\n                                                            .replace(\":groupID\", project.group.groupUserName)\r\n                                                        :\r\n                                                        ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER\r\n                                                            .replace(\":groupID\", project.group.groupUserName)\r\n                                                    :\r\n                                                    groupUserName\r\n                                                        ?\r\n                                                        ROUTES.USER_PROFILE\r\n                                                            .replace(\":groupUserName\", groupUserName)\r\n                                                            .replace(\":userID\", projectIssuer.id)\r\n                                                        :\r\n                                                        ROUTES.USER_PROFILE_INVEST_WEST_SUPER\r\n                                                            .replace(\":userID\", projectIssuer.id)\r\n                                            }\r\n                                            className={css(sharedStyles.nav_link_hover, styles.black_text)}\r\n                                        >\r\n                                            <Typography align=\"center\" variant=\"body2\" style={{marginTop: 23}}>\r\n                                                {\r\n                                                    this.shouldHideInformation()\r\n                                                    || (\r\n                                                        project.hasOwnProperty('createdByGroupAdmin')\r\n                                                        && project.createdByGroupAdmin\r\n                                                    )\r\n                                                        ?\r\n                                                        <u>by {`${project.group.displayName}`}</u>\r\n                                                        :\r\n                                                        <u>by {`${projectIssuer.firstName} ${projectIssuer.lastName}`}</u>\r\n                                                }\r\n                                            </Typography>\r\n                                        </NavLink>\r\n                                        {\r\n                                            project.hasOwnProperty('createdByGroupAdmin')\r\n                                            && project.createdByGroupAdmin\r\n                                                ?\r\n                                                null\r\n                                                :\r\n                                                projectIssuer.hasOwnProperty('linkedin')\r\n                                                && projectIssuer.linkedin.trim().length > 0\r\n                                                    ?\r\n                                                    <a href={projectIssuer.linkedin} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                                        <img alt=\"linkedin_logo\" src={require(\"../../img/linkedin_logo.png\").default} style={{width: 64,  height: 64}}/>\r\n                                                    </a>\r\n                                                    :\r\n                                                    null\r\n                                        }\r\n                                    </FlexView>\r\n                            }\r\n                        </FlexView>\r\n                    </Col>\r\n\r\n                    {/** Project cover (image or video) */}\r\n                    <Col xs={{span: 12, order: 1}} sm={{span: 12, order: 1}} md={{span: 12, order: 1}} lg={{span: 7, offset: 1, order: 3}} style={{paddingLeft: 20, paddingRight: 20, height: isMobile ? MAX_COVER_HEIGHT_IN_MOBILE_MODE : MAX_COVER_HEIGHT_IN_BIG_SCREEN_MODE}}>\r\n                        {\r\n                            this.shouldHideInformation()\r\n                                ?\r\n                                <Image src={utils.getLogoFromGroup(utils.GET_PLAIN_LOGO, project.group)}\r\n                                    style={{\r\n                                        maxHeight:\r\n                                            isMobile\r\n                                                ?\r\n                                                MAX_COVER_HEIGHT_IN_MOBILE_MODE\r\n                                                :\r\n                                                MAX_COVER_HEIGHT_IN_BIG_SCREEN_MODE\r\n                                        ,\r\n                                        border: `1px solid ${colors.gray_300}`,\r\n                                        width: \"100%\",\r\n                                        objectFit: \"scale-down\"\r\n                                    }}\r\n                                />\r\n                                :\r\n                                project.Pitch.cover.map((coverItem, index) => (\r\n                                    coverItem.hasOwnProperty('removed')\r\n                                        ?\r\n                                        null\r\n                                        :\r\n                                        (\r\n                                            coverItem.fileType === DB_CONST.FILE_TYPE_VIDEO\r\n                                                ?\r\n                                                <ReactPlayer\r\n                                                    key={index}\r\n                                                    url={coverItem.url}\r\n                                                    playsInline\r\n                                                    pip={true}\r\n                                                    width=\"100%\"\r\n                                                    height={coverItem.storageID === \"\" ? \"100%\" : \"auto\"}\r\n                                                    playing={false}\r\n                                                    controls={true}\r\n                                                />\r\n                                                :\r\n                                                <Image key={index} src={coverItem.url} style={{maxHeight: isMobile ? MAX_COVER_HEIGHT_IN_MOBILE_MODE : MAX_COVER_HEIGHT_IN_BIG_SCREEN_MODE, border: `1px solid ${colors.gray_300}`, width: \"100%\", objectFit: \"scale-down\"}}/>\r\n                                        )\r\n                                ))\r\n                        }\r\n                    </Col>\r\n\r\n                    {/** Project information */}\r\n                    <Col xs={{span: 12, order: 4}} sm={{span: 12, order: 4}} md={{span: 12, order: 4}} lg={{span: 3, order: 4}} style={{paddingLeft: 20, paddingRight: 20}}>\r\n                        <Row noGutters>\r\n\r\n                            {/** Divider */}\r\n                            <Col xs={12} sm={12} md={{span: 10, offset: 1, order: 1}} lg={{span: 12, offset: 0, order: 1}}>\r\n                                <FlexView width=\"100%\" height={4} style={{\r\n                                        backgroundColor:\r\n                                            !groupProperties\r\n                                                ?\r\n                                                colors.primaryColor\r\n                                                :\r\n                                                groupProperties.settings.primaryColor\r\n                                    }}\r\n                                />\r\n                            </Col>\r\n\r\n                            {/** Funding goal / Pledged */}\r\n                            <Col xs={12} sm={12} md={{span: 5, offset: 1, order: 2}} lg={{span: 12, offset: 0, order: 2}}>\r\n                                <FlexView column marginTop={18}>\r\n                                    {\r\n                                        utils.isDraftProject(project)\r\n                                        || utils.isProjectWaitingToGoLive(project)\r\n                                        || utils.isProjectRejectedToGoLive(project)\r\n                                        || utils.isProjectInLivePitchPhase(project)\r\n                                        || utils.isProjectPitchExpiredWaitingForAdminToCheck(project)\r\n                                        || utils.isProjectWaitingForPledgeToBeCreated(project)\r\n                                        || utils.isProjectWaitingForPledgeToBeChecked(project)\r\n                                            ?\r\n                                            <FlexView vAlignContent=\"center\">\r\n                                                <FlexView column marginRight={20}>\r\n                                                    <Typography variant=\"h5\" color=\"secondary\" align=\"left\">{'' + Number(project.Pitch.fundRequired.toFixed(2)).toLocaleString()}</Typography>\r\n                                                    <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">Funding goal</Typography>\r\n                                                </FlexView>\r\n                                                <InfoOverlay message=\"Funding amount sought via Invest West.\" placement=\"top\"/>\r\n                                            </FlexView>\r\n                                            :\r\n                                            <FlexView vAlignContent=\"center\">\r\n                                                <FlexView column marginRight={20}>\r\n                                                    <Typography variant=\"h5\" color=\"primary\" align=\"left\">{`${Number(utils.calculatePledgesAmount(pledges).toFixed(2)).toLocaleString()}`}</Typography>\r\n                                                    <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">{`pledged of ${Number(project.Pitch.fundRequired.toFixed(2)).toLocaleString()} goal`}</Typography>\r\n                                                </FlexView>\r\n                                                <InfoOverlay message=\"Total amount pledged via Invest West.\" placement=\"top\"/>\r\n                                            </FlexView>\r\n                                    }\r\n                                </FlexView>\r\n                            </Col>\r\n\r\n                            {/** Post money valuation */}\r\n                            {\r\n                                !project.Pitch.hasOwnProperty('postMoneyValuation')\r\n                                    ?\r\n                                    null\r\n                                    :\r\n                                    <Col xs={12} sm={12} md={{span: 5, offset: 1, order: 3}} lg={{span: 12, offset: 0, order: 3}}>\r\n                                        <FlexView marginTop={20} vAlignContent=\"center\">\r\n                                            <FlexView column marginRight={20}>\r\n                                                <Typography variant=\"h5\" color=\"inherit\" align=\"left\">{'' + Number(project.Pitch.postMoneyValuation.toFixed(2)).toLocaleString()}</Typography>\r\n                                                <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">Post money valuation</Typography>\r\n                                            </FlexView>\r\n                                            <InfoOverlay message=\"This is the company post money valuation.\" placement=\"top\"/>\r\n                                        </FlexView>\r\n                                    </Col>\r\n                            }\r\n\r\n                            \r\n\r\n                            {/** Project status */}\r\n                            <Col xs={12} sm={12} md={{span: 5, offset: 0, order: 4}} lg={{span: 12, offset: 0, order: 4}}>\r\n                                {\r\n                                    this.renderProjectStatus()\r\n                                }\r\n                            </Col>\r\n\r\n                            {/** SEIS badge check */}\r\n                            {\r\n                                project.Pitch.hasSEIS === \"Yes\"\r\n                                    ?\r\n                                    <Col xs={12} sm={12} md={{span: 1, offset: 1, order: 5}} lg={{span: 3, offset: 0, order: 5}}>\r\n                                        <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column hAlignContent=\"center\" vAlignContent=\"center\">\r\n                                                    <Typography variant=\"body1\"><b>SEIS</b></Typography>\r\n                                        </FlexView>\r\n                                    </Col>\r\n                                    :\r\n                                    null\r\n                            }\r\n\r\n                            {/** EIS badge check */}\r\n                            {\r\n\r\n                                project.Pitch.hasEIS === \"Yes\"\r\n                                    ?\r\n                                    <Col xs={12} sm={12} md={{span: 1, offset: 1, order: 6}} lg={{span: 3, offset: 0, order: 6}}>\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color,}} hAlignContent=\"center\" vAlignContent=\"center\">\r\n                                                    <Typography variant=\"body1\"><b>EIS</b></Typography>\r\n                                        </FlexView>\r\n                                    </Col>\r\n                                    :\r\n                                    null\r\n                            }\r\n\r\n                            {/** Contact us */}\r\n                            {\r\n                                isProjectOwner(AuthenticationState.currentUser, project)\r\n                                    ? null\r\n                                    : <Col xs={12} sm={12} md={{span: 10, offset: 1, order: 5}} lg={{span: 12, offset: 0, order: 7}} style={{marginTop: 15}}>\r\n                                        <FlexView column hAlignContent=\"left\">\r\n                                            <FlexView hAlignContent=\"center\" vAlignContent=\"center\">\r\n                                                <Button color=\"primary\" variant=\"contained\" className={css(sharedStyles.no_text_transform)} disabled={this.shouldHideInformation() || (user.type === TYPE_INVESTOR && !investorSelfCertificationAgreement)} onClick={() => this.toggleContactPitchOwnerDialog()}>Contact us</Button>\r\n                                                {/*<Button*/}\r\n                                                {/*    size=\"medium\"*/}\r\n                                                {/*    variant={getInvestorVote(votes, user) && getInvestorVote(votes, user).voted ? \"contained\" : \"outlined\"}*/}\r\n                                                {/*    color=\"primary\"*/}\r\n                                                {/*    disabled={this.shouldVoteDisabled()}*/}\r\n                                                {/*    onClick={() => this.onVote(true)}*/}\r\n                                                {/*    className={css(sharedStyles.no_text_transform)}*/}\r\n                                                {/*>*/}\r\n                                                {/*    <i*/}\r\n                                                {/*        style={{*/}\r\n                                                {/*            fontSize: 21,*/}\r\n                                                {/*            marginRight: 8*/}\r\n                                                {/*        }}*/}\r\n                                                {/*        className=\"far fa-thumbs-up\"*/}\r\n                                                {/*    />*/}\r\n                                                {/*    <Typography*/}\r\n                                                {/*        variant=\"body1\"*/}\r\n                                                {/*    >*/}\r\n                                                {/*        Like*/}\r\n                                                {/*    </Typography>*/}\r\n                                                {/*</Button>*/}\r\n                                                {/*<FlexView*/}\r\n                                                {/*    marginLeft={10}*/}\r\n                                                {/*>*/}\r\n                                                {/*    <Typography*/}\r\n                                                {/*        variant=\"body1\"*/}\r\n                                                {/*        color=\"primary\"*/}\r\n                                                {/*    >*/}\r\n                                                {/*        {this.displayVote(true)}*/}\r\n                                                {/*    </Typography>*/}\r\n                                                {/*</FlexView>*/}\r\n                                            </FlexView>\r\n                                            {/*{*/}\r\n                                            {/*    user.type === DB_CONST.TYPE_ISSUER*/}\r\n                                            {/*        ?*/}\r\n                                            {/*        <Typography*/}\r\n                                            {/*            variant=\"body2\"*/}\r\n                                            {/*            align=\"left\"*/}\r\n                                            {/*            color=\"error\"*/}\r\n                                            {/*            style={{*/}\r\n                                            {/*                marginTop: 10*/}\r\n                                            {/*            }}*/}\r\n                                            {/*        >*/}\r\n                                            {/*            Only investors can vote.*/}\r\n                                            {/*        </Typography>*/}\r\n                                            {/*        :*/}\r\n                                            {/*        null*/}\r\n                                            {/*}*/}\r\n                                        </FlexView>\r\n                                        {\r\n                                            this.shouldHideInformation()\r\n                                                ?\r\n                                                user.type === DB_CONST.TYPE_ADMIN\r\n                                                    ?\r\n                                                    <FlexView column marginTop={20}>\r\n                                                        <Typography align=\"left\" variant=\"body2\" color=\"textSecondary\">You cannot see detailed information of this restricted offer.</Typography>\r\n                                                    </FlexView>\r\n                                                    :\r\n                                                    <FlexView column marginTop={20}>\r\n                                                        <Typography align=\"left\" variant=\"body2\" color=\"textSecondary\">Restricted to {project.group.displayName} members.</Typography>\r\n                                                        <NavLink\r\n                                                            to={\r\n                                                                groupUserName\r\n                                                                    ?\r\n                                                                    ROUTES.VIEW_GROUP_DETAILS.replace(\":groupUserName\", groupUserName).replace(\":groupID\", project.group.groupUserName)\r\n                                                                    :\r\n                                                                    ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER.replace(\":groupID\", project.group.groupUserName)\r\n                                                            }\r\n                                                            style={{marginTop: 4}}>\r\n                                                            <Typography variant=\"body2\">Request access</Typography>\r\n                                                        </NavLink>\r\n                                                    </FlexView>\r\n                                                :\r\n                                                this.renderInvestorSelfCertifyReminder()\r\n                                        }\r\n                                    </Col>\r\n                            }\r\n\r\n                            {/** Pledge this project (available only for investor and only appears when the project is in the Primary offer phase) */}\r\n                            {\r\n                                !utils.isProjectInLivePledgePhase(project)\r\n                                    ?\r\n                                    null\r\n                                    :\r\n                                    (\r\n                                        user.type !== DB_CONST.TYPE_INVESTOR\r\n                                            ?\r\n                                            (\r\n                                                <Col xs={12} sm={12} md={{span: 10, offset: 1, order: 6}} lg={{span: 12, offset: 0, order: 6}} style={{marginTop: 30}}>\r\n                                                    <Typography align=\"left\" variant=\"body2\">\r\n                                                        <u>Closes on {utils.dateTimeInReadableFormat(project.PrimaryOffer.expiredDate)}.</u>\r\n                                                    </Typography>\r\n                                                </Col>\r\n                                            )\r\n                                            :\r\n                                            (\r\n                                                investorPledge\r\n                                                    ?\r\n                                                    <Col xs={12} sm={12} md={{span: 10, offset: 1, order: 6}} lg={{span: 12, offset: 0, order: 6}} style={{marginTop: 30}}>\r\n                                                        <Typography align=\"left\" variant=\"body2\"><u>Closes on {utils.dateTimeInReadableFormat(project.PrimaryOffer.expiredDate)}.</u>\r\n                                                        </Typography>\r\n                                                    </Col>\r\n                                                    :\r\n                                                    <Col xs={12} sm={12} md={{span: 10, offset: 1, order: 6}} lg={{span: 12, offset: 0, order: 6}} style={{marginTop: 30}}>\r\n\r\n                                                        {\r\n                                                            user.type === DB_CONST.TYPE_INVESTOR\r\n                                                            && !investorSelfCertificationAgreement\r\n                                                                ?\r\n                                                                <Button style={{marginBottom: 14}} className={css(sharedStyles.no_text_transform)} fullWidth variant=\"outlined\" color=\"primary\" size=\"medium\"\r\n                                                                    disabled={\r\n                                                                        user.type === DB_CONST.TYPE_INVESTOR\r\n                                                                        && !investorSelfCertificationAgreement\r\n                                                                    }\r\n                                                                >\r\n                                                                    Pledge now\r\n                                                                </Button>\r\n                                                                :\r\n                                                                <NavLink\r\n                                                                    to={{\r\n                                                                        pathname: groupUserName\r\n                                                                            ?\r\n                                                                            ROUTES.PLEDGE.replace(\":groupUserName\", groupUserName)\r\n                                                                            :\r\n                                                                            ROUTES.PLEDGE_INVEST_WEST_SUPER\r\n                                                                        ,\r\n                                                                        search: `?project=${project.id}`\r\n                                                                    }}\r\n                                                                    className={css(sharedStyles.nav_link_hover)}\r\n                                                                >\r\n                                                                    <Button style={{marginBottom: 14}} className={css(sharedStyles.no_text_transform)} fullWidth variant=\"outlined\" color=\"primary\" size=\"medium\">Pledge now</Button>\r\n                                                                </NavLink>\r\n                                                        }\r\n\r\n                                                        {\r\n                                                            this.renderInvestorSelfCertifyReminder()\r\n                                                        }\r\n\r\n                                                        <Typography align=\"left\" variant=\"body2\" style={{marginTop: 15}}>\r\n                                                            <u>Closes on {utils.dateTimeInReadableFormat(project.PrimaryOffer.expiredDate)}.</u></Typography>\r\n                                                    </Col>\r\n                                            )\r\n                                    )\r\n                            }\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/** Sections bar */}\r\n                <Row noGutters className={css(styles.sticky_body_sections_bar)}>\r\n                    <Col xs={12} sm={12} md={12} lg={12}>\r\n                        <Divider/>\r\n                    </Col>\r\n\r\n                    <Col style={{padding: 10}} xs={{span: 12, offset: 0}} sm={{span: 12, offset: 0}} md={{span: 12, offset: 0}} lg={{span: 8, offset: 2}}>\r\n                        <FlexView hAlignContent=\"center\">\r\n                            <Tabs value={mainBody} onChange={this.onTabChanged} indicatorColor=\"primary\" textColor=\"primary\" variant=\"scrollable\" scrollButtons=\"on\">\r\n                                {\r\n                                    // user is a super admin\r\n                                    // or a group admin that owns the project\r\n                                    (user.type === DB_CONST.TYPE_ADMIN\r\n                                        && (user.superAdmin || (!user.superAdmin && user.anid === project.anid))\r\n                                    )\r\n                                    // project is not a draft\r\n                                    && !utils.isDraftProject(project)\r\n                                        ?\r\n                                        <Tab value={MAIN_BODY_ADMIN_OFFER_STATES} className={css(sharedStyles.tab_title)} fullWidth label=\"Control phases\"\r\n                                         style={{\r\n                                                color:\r\n                                                    !groupProperties\r\n                                                        ?\r\n                                                        colors.secondaryColor\r\n                                                        :\r\n                                                        groupProperties.settings.secondaryColor\r\n                                            }}\r\n                                        />\r\n                                        :\r\n                                        null\r\n                                }\r\n                                {/*{*/}\r\n                                {/*    // user is a super admin*/}\r\n                                {/*    // or a group admin that owns the project*/}\r\n                                {/*    (user.type === DB_CONST.TYPE_ADMIN*/}\r\n                                {/*        && (user.superAdmin || (!user.superAdmin && user.anid === project.anid))*/}\r\n                                {/*    )*/}\r\n                                {/*    // user is the issuer that owns the project*/}\r\n                                {/*    || (user.type === DB_CONST.TYPE_ISSUER && user.id === project.issuerID)*/}\r\n                                {/*        ?*/}\r\n                                {/*        <Tab*/}\r\n                                {/*            value={MAIN_BODY_INVESTORS_PLEDGED}*/}\r\n                                {/*            className={css(sharedStyles.tab_title)}*/}\r\n                                {/*            fullWidth*/}\r\n                                {/*            label=\"Pledges\"*/}\r\n                                {/*            style={{*/}\r\n                                {/*                color:*/}\r\n                                {/*                    !groupProperties*/}\r\n                                {/*                        ?*/}\r\n                                {/*                        colors.secondaryColor*/}\r\n                                {/*                        :*/}\r\n                                {/*                        groupProperties.settings.secondaryColor*/}\r\n                                {/*            }}*/}\r\n                                {/*        />*/}\r\n                                {/*        :*/}\r\n                                {/*        null*/}\r\n                                {/*}*/}\r\n                                <Tab value={MAIN_BODY_CAMPAIGN} className={css(sharedStyles.tab_title)} fullWidth label=\"Campaign\"/>\r\n                                <Tab value={MAIN_BODY_DOCUMENTS} className={css(sharedStyles.tab_title)} fullWidth label=\"Documents\"/>\r\n                                <Tab value={MAIN_BODY_COMMENTS} className={css(sharedStyles.tab_title)} fullWidth label=\"Investor comments\"/>\r\n                                <Tab value={MAIN_BODY_NOTES} className={css(sharedStyles.tab_title)} fullWidth label=\"Extra information\"/>\r\n                            </Tabs>\r\n                        </FlexView>\r\n                    </Col>\r\n\r\n                    <Col xs={12} sm={12} md={12} lg={12}>\r\n                        <Divider/>\r\n                    </Col>\r\n                </Row>\r\n\r\n                {/** Main body */}\r\n                <Row noGutters className={css(styles.main_body_section)}>\r\n                    {/** Offer states (only visible to Admin) */}\r\n                    {\r\n                        mainBody !== MAIN_BODY_ADMIN_OFFER_STATES\r\n                            ?\r\n                            null\r\n                            :\r\n                            <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}}>\r\n                                <FlexView column marginTop={30}>\r\n                                    <Typography variant=\"h5\"> Control phases</Typography>\r\n\r\n                                    <Row>\r\n                                        <Col xs={{span: 12, order: 1}} sm={{span: 12, order: 1}} md={{span: 8, order: 0}} lg={{span: 8, order: 0}}>\r\n                                            <Stepper nonLinear orientation=\"vertical\" activeStep={adminOfferStatesActiveStep} style={{marginTop: 15}}>\r\n                                                {/** Publish pitch step */}\r\n                                                <Step key={ADMIN_OFFER_STATES_PUBLISH_PITCH} completed={!utils.isProjectWaitingToGoLive(project)}>\r\n                                                    <StepButton onClick={() => this.onAdminOfferStatesStepClick(ADMIN_OFFER_STATES_PUBLISH_PITCH)}>\r\n                                                        <StepLabel>Publish pitch</StepLabel>\r\n                                                    </StepButton>\r\n                                                    <StepContent>\r\n                                                        {\r\n                                                            utils.isProjectWaitingToGoLive(project)\r\n                                                                ?\r\n                                                                <FlexView column width=\"100%\" marginTop={20} className={css(styles.admin_state_control_box)}>\r\n                                                                    <Typography variant=\"body1\" align=\"left\" paragraph>\r\n                                                                        Please check this offer\r\n                                                                        carefully\r\n                                                                        before publishing as this action cannot be\r\n                                                                        reversed. You\r\n                                                                        can control who can see this investment\r\n                                                                        opportunity\r\n                                                                        using the options below.\r\n                                                                    </Typography>\r\n\r\n                                                                    <Divider style={{marginTop: 25, marginBottom: 20}}/>\r\n\r\n                                                                    {/** Select project visibility before publishing pitch */}\r\n                                                                    <SelectPitchVisibility/>\r\n\r\n                                                                    <Divider style={{marginTop: 35, marginBottom: 25}}/>\r\n\r\n                                                                    {\r\n                                                                        !addingRejectFeedback\r\n                                                                            ?\r\n                                                                            null\r\n                                                                            :\r\n                                                                            <FlexView column>\r\n                                                                                <TextField\r\n                                                                                    label=\"Feedback\"\r\n                                                                                    placeholder=\"Feedback for issuer\"\r\n                                                                                    name=\"rejectFeedback\"\r\n                                                                                    value={rejectFeedback}\r\n                                                                                    fullWidth\r\n                                                                                    margin=\"normal\"\r\n                                                                                    variant=\"outlined\"\r\n                                                                                    required\r\n                                                                                    multiline\r\n                                                                                    rows={5}\r\n                                                                                    rowsMax={5}\r\n                                                                                    onChange={this.onTextChanged}\r\n                                                                                />\r\n\r\n                                                                                <FlexView width=\"100%\" hAlignContent=\"right\" marginTop={10}>\r\n                                                                                    <FlexView marginRight={6}>\r\n                                                                                        <Button fullWidth color=\"primary\" variant=\"contained\" className={css(sharedStyles.no_text_transform)} disabled={rejectFeedback.trim().length === 0} onClick={() => this.sendProjectBackToIssuer()}>\r\n                                                                                            {\r\n                                                                                                sendingProjectBack\r\n                                                                                                    ?\r\n                                                                                                    \"Sending...\"\r\n                                                                                                    :\r\n                                                                                                    \"Send\"\r\n                                                                                            }\r\n                                                                                        </Button>\r\n                                                                                    </FlexView>\r\n                                                                                    <FlexView marginLeft={6}>\r\n                                                                                        <Button fullWidth color=\"secondary\" variant=\"outlined\" className={css(sharedStyles.no_text_transform)} onClick={() => this.toggleRejectFeedback()}>Cancel</Button>\r\n                                                                                    </FlexView>\r\n                                                                                </FlexView>\r\n                                                                            </FlexView>\r\n                                                                    }\r\n\r\n                                                                    {\r\n                                                                        addingRejectFeedback\r\n                                                                            ?\r\n                                                                            null\r\n                                                                            :\r\n                                                                            isProjectCreatedByGroupAdmin(project)\r\n                                                                                ?\r\n                                                                                <Button fullWidth color=\"primary\" variant=\"contained\" className={css(sharedStyles.no_text_transform)} disabled={user.superAdmin} onClick={() => this.onMakeProjectGoLiveDecision({decision: true, projectVisibilitySetting})}>Publish pitch</Button>\r\n                                                                                :\r\n                                                                                <FlexView>\r\n                                                                                    <FlexView grow marginRight={10}>\r\n                                                                                        <Button fullWidth color=\"primary\" variant=\"contained\" className={css(sharedStyles.no_text_transform)} disabled={user.superAdmin} onClick={() => this.onMakeProjectGoLiveDecision({decision: true, projectVisibilitySetting})}>Publish pitch</Button>\r\n                                                                                    </FlexView>\r\n                                                                                    <FlexView grow marginLeft={10}>\r\n                                                                                        <Button fullWidth color=\"secondary\" variant=\"outlined\" className={css(sharedStyles.no_text_transform)} disabled={user.superAdmin} onClick={() => this.toggleRejectFeedback()}>Send back to issuer</Button>\r\n                                                                                    </FlexView>\r\n                                                                                </FlexView>\r\n                                                                    }\r\n\r\n                                                                    {\r\n                                                                        !user.superAdmin\r\n                                                                            ?\r\n                                                                            null\r\n                                                                            :\r\n                                                                            <Typography variant=\"body1\" color=\"error\" align=\"left\" style={{marginTop: 20}}>Only group admin can do this.</Typography>\r\n                                                                    }\r\n                                                                </FlexView>\r\n                                                                :\r\n                                                                <FlexView column width=\"100%\" marginTop={20}>\r\n                                                                    <Typography\r\n                                                                        color={\r\n                                                                            isProjectRejectedToGoLive(project)\r\n                                                                                ?\r\n                                                                                \"secondary\"\r\n                                                                                :\r\n                                                                                \"primary\"\r\n                                                                        }\r\n                                                                        align=\"left\"\r\n                                                                        variant=\"body1\"\r\n                                                                    >\r\n                                                                        {\r\n                                                                            isProjectRejectedToGoLive(project)\r\n                                                                                ?\r\n                                                                                \"This offer has been rejected.\"\r\n                                                                                :\r\n                                                                                isDraftProject(project)\r\n                                                                                    ?\r\n                                                                                    \"This offer is in draft phase.\"\r\n                                                                                    :\r\n                                                                                    \"This offer has been published.\"\r\n                                                                        }\r\n                                                                    </Typography>\r\n                                                                </FlexView>\r\n                                                        }\r\n\r\n                                                    </StepContent>\r\n                                                </Step>\r\n\r\n                                                {/** Move Pitch to Pledge step */}\r\n                                                <Step\r\n                                                    key={ADMIN_OFFER_STATES_MOVE_TO_PLEDGE}\r\n                                                    disabled={\r\n                                                        isProjectWaitingToGoLive(project)\r\n                                                        || isProjectRejectedToGoLive(project)\r\n                                                    }\r\n                                                    completed={\r\n                                                        isProjectSuccessful(project)\r\n                                                        || isProjectFailed(project)\r\n                                                        || isProjectInLivePledgePhase(project)\r\n                                                        || isProjectWaitingForPledgeToBeCreated(project)\r\n                                                        || isProjectWaitingForPledgeToBeChecked(project)\r\n                                                    }\r\n                                                >\r\n                                                    <StepButton onClick={() => this.onAdminOfferStatesStepClick(ADMIN_OFFER_STATES_MOVE_TO_PLEDGE)}>\r\n                                                        {/*<StepLabel*/}\r\n                                                        {/*    error={utils.isProjectRejectedToGoLive(project)}*/}\r\n                                                        {/*>*/}\r\n                                                        {/*    Move pitch to pledge phase*/}\r\n                                                        {/*</StepLabel>*/}\r\n                                                        <StepLabel error={utils.isProjectRejectedToGoLive(project)}>Make decision for expired pitch</StepLabel>\r\n                                                    </StepButton>\r\n                                                    <StepContent>\r\n                                                        {\r\n                                                            (isProjectInLivePitchPhase(project)\r\n                                                                || isProjectPitchExpiredWaitingForAdminToCheck(project))\r\n                                                            && !isProjectWaitingForPledgeToBeCreated(project)\r\n                                                            && !isProjectWaitingForPledgeToBeChecked(project)\r\n                                                                ?\r\n                                                                <FlexView\r\n                                                                    column\r\n                                                                >\r\n                                                                    {\r\n                                                                        !isProjectPitchExpiredWaitingForAdminToCheck(project)\r\n                                                                            ?\r\n                                                                            null\r\n                                                                            :\r\n                                                                            <FlexView column width=\"100%\" marginTop={20} marginBottom={20} className={css(styles.admin_state_control_box)}>\r\n                                                                                <Typography align=\"left\" variant=\"body1\" style={{marginBottom: 35}}>This pitch has expired. You can bring it back to live by updating the expiry date or close it.</Typography>\r\n\r\n                                                                                <KeyboardDatePicker\r\n                                                                                    autoOk\r\n                                                                                    fullWidth\r\n                                                                                    variant=\"dialog\"\r\n                                                                                    inputVariant=\"outlined\"\r\n                                                                                    label=\"Update expiry date for this pitch\"\r\n                                                                                    format=\"dd/MM/yyyy\"\r\n                                                                                    minDate={utils.getDateWithDaysFurtherThanToday(1)}\r\n                                                                                    value={changedPitchExpiryDate}\r\n                                                                                    InputAdornmentProps={{position: \"start\"}}\r\n                                                                                    onChange={this.onDateChanged}\r\n                                                                                />\r\n\r\n                                                                                <Button variant=\"contained\" color=\"primary\" className={css(sharedStyles.no_text_transform)}\r\n                                                                                    disabled={\r\n                                                                                        !changedPitchExpiryDate\r\n                                                                                        || isNaN(changedPitchExpiryDate)\r\n                                                                                        || changedPitchExpiryDate < utils.getDateWithDaysFurtherThanToday(0)\r\n                                                                                    }\r\n                                                                                    style={{marginTop: 25}} onClick={this.bringPitchBackToLive}>Make pitch live again</Button>\r\n\r\n                                                                                <FlexView column marginTop={100}>\r\n                                                                                    <Button fullWidth color=\"secondary\" className={css(sharedStyles.no_text_transform)} variant=\"contained\" disabled={user.superAdmin} onClick={() => this.onMakeProjectGoToPledgePhaseDecision(false)}>Close pitch</Button>\r\n\r\n                                                                                    <Typography align=\"center\" variant=\"body2\" style={{marginTop: 12}}>\r\n                                                                                        <b>\r\n                                                                                            <u>\r\n                                                                                                Please do it carefully\r\n                                                                                                as you cannot\r\n                                                                                                reverse\r\n                                                                                                your action.\r\n                                                                                            </u>\r\n                                                                                        </b>\r\n                                                                                    </Typography>\r\n                                                                                </FlexView>\r\n                                                                            </FlexView>\r\n                                                                    }\r\n\r\n                                                                    {/*<FlexView*/}\r\n                                                                    {/*    column*/}\r\n                                                                    {/*    width=\"100%\"*/}\r\n                                                                    {/*    marginTop={20}*/}\r\n                                                                    {/*    className={css(styles.admin_state_control_box)}*/}\r\n                                                                    {/*>*/}\r\n                                                                    {/*    <Typography*/}\r\n                                                                    {/*        align=\"left\"*/}\r\n                                                                    {/*        variant=\"body1\"*/}\r\n                                                                    {/*        paragraph*/}\r\n                                                                    {/*    >*/}\r\n                                                                    {/*        This offer is currently in the*/}\r\n                                                                    {/*        pitch*/}\r\n                                                                    {/*        phase. You can now move it to the pledge*/}\r\n                                                                    {/*        phase.*/}\r\n                                                                    {/*        The*/}\r\n                                                                    {/*        issuer will be notified and prompted to*/}\r\n                                                                    {/*        create*/}\r\n                                                                    {/*        their*/}\r\n                                                                    {/*        pledge page.*/}\r\n                                                                    {/*    </Typography>*/}\r\n\r\n                                                                    {/*    <Typography*/}\r\n                                                                    {/*        align=\"left\"*/}\r\n                                                                    {/*        variant=\"body1\"*/}\r\n                                                                    {/*    >*/}\r\n                                                                    {/*        <b>*/}\r\n                                                                    {/*            <u>*/}\r\n                                                                    {/*                Please do it carefully as you cannot*/}\r\n                                                                    {/*                reverse*/}\r\n                                                                    {/*                your action.*/}\r\n                                                                    {/*            </u>*/}\r\n                                                                    {/*        </b>*/}\r\n                                                                    {/*    </Typography>*/}\r\n\r\n                                                                    {/*    <Divider*/}\r\n                                                                    {/*        style={{*/}\r\n                                                                    {/*            marginTop: 30,*/}\r\n                                                                    {/*            marginBottom: 30*/}\r\n                                                                    {/*        }}*/}\r\n                                                                    {/*    />*/}\r\n\r\n                                                                    {/*    <FlexView>*/}\r\n                                                                    {/*        <FlexView*/}\r\n                                                                    {/*            grow*/}\r\n                                                                    {/*            marginRight={10}*/}\r\n                                                                    {/*        >*/}\r\n                                                                    {/*            <Button*/}\r\n                                                                    {/*                fullWidth*/}\r\n                                                                    {/*                color=\"primary\"*/}\r\n                                                                    {/*                className={css(sharedStyles.no_text_transform)}*/}\r\n                                                                    {/*                variant=\"outlined\"*/}\r\n                                                                    {/*                disabled={user.superAdmin}*/}\r\n                                                                    {/*                onClick={() => this.onMakeProjectGoToPledgePhaseDecision(true)}*/}\r\n                                                                    {/*            >*/}\r\n                                                                    {/*                Move to pledge phase*/}\r\n                                                                    {/*            </Button>*/}\r\n                                                                    {/*        </FlexView>*/}\r\n                                                                    {/*        <FlexView*/}\r\n                                                                    {/*            grow*/}\r\n                                                                    {/*            marginLeft={10}*/}\r\n                                                                    {/*        >*/}\r\n                                                                    {/*            <Button*/}\r\n                                                                    {/*                fullWidth*/}\r\n                                                                    {/*                color=\"secondary\"*/}\r\n                                                                    {/*                className={css(sharedStyles.no_text_transform)}*/}\r\n                                                                    {/*                variant=\"outlined\"*/}\r\n                                                                    {/*                disabled={user.superAdmin}*/}\r\n                                                                    {/*                onClick={() => this.onMakeProjectGoToPledgePhaseDecision(false)}*/}\r\n                                                                    {/*            >*/}\r\n                                                                    {/*                Close pitch*/}\r\n                                                                    {/*            </Button>*/}\r\n                                                                    {/*        </FlexView>*/}\r\n                                                                    {/*    </FlexView>*/}\r\n\r\n                                                                    {/*    {*/}\r\n                                                                    {/*        !user.superAdmin*/}\r\n                                                                    {/*            ?*/}\r\n                                                                    {/*            null*/}\r\n                                                                    {/*            :*/}\r\n                                                                    {/*            <Typography*/}\r\n                                                                    {/*                variant=\"body1\"*/}\r\n                                                                    {/*                color=\"error\"*/}\r\n                                                                    {/*                align=\"left\"*/}\r\n                                                                    {/*                style={{*/}\r\n                                                                    {/*                    marginTop: 20*/}\r\n                                                                    {/*                }}*/}\r\n                                                                    {/*            >*/}\r\n                                                                    {/*                Only group admin can do this.*/}\r\n                                                                    {/*            </Typography>*/}\r\n                                                                    {/*    }*/}\r\n                                                                    {/*</FlexView>*/}\r\n                                                                </FlexView>\r\n                                                                :\r\n                                                                <FlexView column width=\"100%\" marginTop={20}>\r\n                                                                    <Typography\r\n                                                                        color={\r\n                                                                            utils.isProjectFailed(project)\r\n                                                                                ?\r\n                                                                                \"secondary\"\r\n                                                                                :\r\n                                                                                \"primary\"\r\n                                                                        }\r\n                                                                        align=\"left\"\r\n                                                                        variant=\"body1\"\r\n                                                                    >\r\n                                                                        {\r\n                                                                            utils.isProjectFailed(project)\r\n                                                                                ?\r\n                                                                                \"This offer has been rejected.\"\r\n                                                                                :\r\n                                                                                project.Pitch.status === DB_CONST.PITCH_STATUS_ACCEPTED_CREATE_PRIMARY_OFFER\r\n                                                                                    ?\r\n                                                                                    project.hasOwnProperty('createdByGroupAdmin')\r\n                                                                                    && project.createdByGroupAdmin\r\n                                                                                    && (groupProperties && project.anid === groupProperties.anid)\r\n                                                                                        ?\r\n                                                                                        \"You can create a pledge page for this offer now.\"\r\n                                                                                        :\r\n                                                                                        \"The issuer has been prompted to create their pledge page. You will then be able to check the pledge before publishing.\"\r\n                                                                                    :\r\n                                                                                    \"This offer has moved to the pledge phase.\"\r\n                                                                        }\r\n                                                                    </Typography>\r\n                                                                    {\r\n                                                                        project.hasOwnProperty('createdByGroupAdmin')\r\n                                                                        && project.createdByGroupAdmin\r\n                                                                        && (groupProperties && project.anid === groupProperties.anid)\r\n                                                                        && project.Pitch.status === DB_CONST.PITCH_STATUS_ACCEPTED_CREATE_PRIMARY_OFFER\r\n                                                                            ?\r\n                                                                            <FlexView marginTop={20}>\r\n                                                                                <Button color=\"primary\" variant=\"outlined\" size=\"medium\"\r\n                                                                                    className={css(sharedStyles.no_text_transform)}\r\n                                                                                    onClick={() => {\r\n                                                                                        createPledgeDialog_toggleDialog();\r\n                                                                                        createPledgeDialog_setProject(project);\r\n                                                                                        selectProjectVisibility_setProject(project);\r\n                                                                                    }}>\r\n                                                                                    Create pledge\r\n                                                                                </Button>\r\n                                                                            </FlexView>\r\n                                                                            :\r\n                                                                            null\r\n                                                                    }\r\n                                                                </FlexView>\r\n                                                        }\r\n                                                    </StepContent>\r\n                                                </Step>\r\n\r\n                                                {/*/!** Publish Pledge step *!/*/}\r\n                                                {/*<Step*/}\r\n                                                {/*    key={ADMIN_OFFER_STATES_PUBLISH_PLEDGE}*/}\r\n                                                {/*    disabled={*/}\r\n                                                {/*        isProjectWaitingToGoLive(project)*/}\r\n                                                {/*        || isProjectRejectedToGoLive(project)*/}\r\n                                                {/*        || isProjectInLivePitchPhase(project)*/}\r\n                                                {/*        || isProjectPitchExpiredWaitingForAdminToCheck(project)*/}\r\n                                                {/*        || isProjectFailed(project)*/}\r\n                                                {/*    }*/}\r\n                                                {/*    completed={*/}\r\n                                                {/*        isProjectFailed(project)*/}\r\n                                                {/*        || isProjectSuccessful(project)*/}\r\n                                                {/*        || isProjectInLivePledgePhase(project)*/}\r\n                                                {/*    }*/}\r\n                                                {/*>*/}\r\n                                                {/*    <StepButton*/}\r\n                                                {/*        onClick={() => this.onAdminOfferStatesStepClick(ADMIN_OFFER_STATES_PUBLISH_PLEDGE)}*/}\r\n                                                {/*    >*/}\r\n                                                {/*        <StepLabel*/}\r\n                                                {/*            error={*/}\r\n                                                {/*                isProjectFailed(project)*/}\r\n                                                {/*                || isProjectRejectedToGoLive(project)*/}\r\n                                                {/*            }*/}\r\n                                                {/*        >*/}\r\n                                                {/*            Publish pledge*/}\r\n                                                {/*        </StepLabel>*/}\r\n                                                {/*    </StepButton>*/}\r\n                                                {/*    <StepContent>*/}\r\n                                                {/*        {*/}\r\n                                                {/*            project.status === DB_CONST.PROJECT_STATUS_PRIMARY_OFFER_CREATED_WAITING_TO_BE_CHECKED*/}\r\n                                                {/*                ?*/}\r\n                                                {/*                <FlexView*/}\r\n                                                {/*                    column*/}\r\n                                                {/*                    width=\"100%\"*/}\r\n                                                {/*                    marginTop={20}*/}\r\n                                                {/*                    className={css(styles.admin_state_control_box)}*/}\r\n                                                {/*                >*/}\r\n                                                {/*                    <Typography*/}\r\n                                                {/*                        align=\"left\"*/}\r\n                                                {/*                        variant=\"body1\"*/}\r\n                                                {/*                        paragraph*/}\r\n                                                {/*                    >*/}\r\n                                                {/*                        The issuer has now created their pledge page.*/}\r\n                                                {/*                        Please*/}\r\n                                                {/*                        check this carefully before publishing as you*/}\r\n                                                {/*                        cannot*/}\r\n                                                {/*                        reverse this action. You can also control who*/}\r\n                                                {/*                        can see*/}\r\n                                                {/*                        this pledge using the options below.*/}\r\n                                                {/*                    </Typography>*/}\r\n\r\n                                                {/*                    <Divider*/}\r\n                                                {/*                        style={{*/}\r\n                                                {/*                            marginTop: 25,*/}\r\n                                                {/*                            marginBottom: 20*/}\r\n                                                {/*                        }}*/}\r\n                                                {/*                    />*/}\r\n\r\n                                                {/*                    /!** Select project visibility before publishing pledge *!/*/}\r\n                                                {/*                    <SelectPledgeVisibility/>*/}\r\n\r\n                                                {/*                    <Divider*/}\r\n                                                {/*                        style={{*/}\r\n                                                {/*                            marginTop: 35,*/}\r\n                                                {/*                            marginBottom: 25*/}\r\n                                                {/*                        }}*/}\r\n                                                {/*                    />*/}\r\n\r\n                                                {/*                    <FlexView*/}\r\n                                                {/*                        marginTop={20}*/}\r\n                                                {/*                    >*/}\r\n                                                {/*                        <FlexView*/}\r\n                                                {/*                            grow*/}\r\n                                                {/*                            marginRight={10}*/}\r\n                                                {/*                        >*/}\r\n                                                {/*                            <Button*/}\r\n                                                {/*                                fullWidth*/}\r\n                                                {/*                                color=\"primary\"*/}\r\n                                                {/*                                className={css(sharedStyles.no_text_transform)}*/}\r\n                                                {/*                                variant=\"outlined\"*/}\r\n                                                {/*                                disabled={user.superAdmin}*/}\r\n                                                {/*                                onClick={() => this.onMakeProjectPledgeGoLiveDecision({*/}\r\n                                                {/*                                    decision: true,*/}\r\n                                                {/*                                    projectVisibilitySetting*/}\r\n                                                {/*                                })}*/}\r\n                                                {/*                            >*/}\r\n                                                {/*                                Publish pledge*/}\r\n                                                {/*                            </Button>*/}\r\n                                                {/*                        </FlexView>*/}\r\n                                                {/*                        <FlexView*/}\r\n                                                {/*                            grow*/}\r\n                                                {/*                            marginLeft={10}*/}\r\n                                                {/*                        >*/}\r\n                                                {/*                            <Button*/}\r\n                                                {/*                                fullWidth*/}\r\n                                                {/*                                color=\"secondary\"*/}\r\n                                                {/*                                className={css(sharedStyles.no_text_transform)}*/}\r\n                                                {/*                                variant=\"outlined\"*/}\r\n                                                {/*                                disabled={user.superAdmin}*/}\r\n                                                {/*                                onClick={() => this.onMakeProjectPledgeGoLiveDecision({decision: false})}*/}\r\n                                                {/*                            >*/}\r\n                                                {/*                                Close pledge*/}\r\n                                                {/*                            </Button>*/}\r\n                                                {/*                        </FlexView>*/}\r\n                                                {/*                    </FlexView>*/}\r\n\r\n                                                {/*                    {*/}\r\n                                                {/*                        !user.superAdmin*/}\r\n                                                {/*                            ?*/}\r\n                                                {/*                            null*/}\r\n                                                {/*                            :*/}\r\n                                                {/*                            <Typography*/}\r\n                                                {/*                                variant=\"body1\"*/}\r\n                                                {/*                                color=\"error\"*/}\r\n                                                {/*                                align=\"left\"*/}\r\n                                                {/*                                style={{*/}\r\n                                                {/*                                    marginTop: 20*/}\r\n                                                {/*                                }}*/}\r\n                                                {/*                            >*/}\r\n                                                {/*                                Only group admin can do this.*/}\r\n                                                {/*                            </Typography>*/}\r\n                                                {/*                    }*/}\r\n                                                {/*                </FlexView>*/}\r\n                                                {/*                :*/}\r\n                                                {/*                <FlexView*/}\r\n                                                {/*                    column*/}\r\n                                                {/*                    width=\"100%\"*/}\r\n                                                {/*                    marginTop={20}*/}\r\n                                                {/*                >*/}\r\n                                                {/*                    <Typography*/}\r\n                                                {/*                        color={*/}\r\n                                                {/*                            isProjectFailed(project)*/}\r\n                                                {/*                                ?*/}\r\n                                                {/*                                \"secondary\"*/}\r\n                                                {/*                                :*/}\r\n                                                {/*                                \"primary\"*/}\r\n                                                {/*                        }*/}\r\n                                                {/*                        align=\"left\"*/}\r\n                                                {/*                        variant=\"body1\"*/}\r\n                                                {/*                    >*/}\r\n                                                {/*                        {*/}\r\n                                                {/*                            isProjectFailed(project)*/}\r\n                                                {/*                                ?*/}\r\n                                                {/*                                \"This offer has been rejected.\"*/}\r\n                                                {/*                                :*/}\r\n                                                {/*                                \"This offer has been published.\"*/}\r\n                                                {/*                        }*/}\r\n                                                {/*                    </Typography>*/}\r\n                                                {/*                </FlexView>*/}\r\n                                                {/*        }*/}\r\n                                                {/*    </StepContent>*/}\r\n                                                {/*</Step>*/}\r\n                                            </Stepper>\r\n                                        </Col>\r\n\r\n                                        <Col xs={{span: 12, order: 0}} sm={{span: 12, order: 0}} md={{span: 4, order: 1}} lg={{span: 4, order: 1}}>\r\n                                            {\r\n                                                !isProjectLive(project)\r\n                                                    ?\r\n                                                    null\r\n                                                    :\r\n                                                    <FlexView column marginTop={30}>\r\n                                                        <Button variant=\"outlined\" color=\"primary\" className={css(sharedStyles.no_text_transform)}\r\n                                                            onClick={() => realtimeDBUtils.toggleProjectLivelinessTemporarily(user, JSON.parse(JSON.stringify(project)))}\r\n                                                            disabled={\r\n                                                                user.type !== DB_CONST.TYPE_ADMIN\r\n                                                                || (\r\n                                                                    user.type === DB_CONST.TYPE_ADMIN\r\n                                                                    && user.anid !== project.anid\r\n                                                                )\r\n                                                            }\r\n                                                        >\r\n                                                            {\r\n                                                                isProjectTemporarilyClosed(project)\r\n                                                                    ?\r\n                                                                    \"Open again\"\r\n                                                                    :\r\n                                                                    \"Close temporarily\"\r\n                                                            }\r\n                                                        </Button>\r\n                                                        {\r\n                                                            !user.superAdmin\r\n                                                                ?\r\n                                                                null\r\n                                                                :\r\n                                                                <Typography variant=\"body2\" align=\"left\" color=\"error\" style={{marginTop: 12}}>Only group admins can do this.</Typography>\r\n                                                        }\r\n                                                        <Typography variant=\"body2\" align=\"left\" style={{marginTop: 15}}>\r\n                                                            {\r\n                                                                isProjectTemporarilyClosed(project)\r\n                                                                    ?\r\n                                                                    \"This offer will be opened again.\"\r\n                                                                    :\r\n                                                                    \"This offer will be closed temporarily and it will no longer be visible to any investors until you open it again.\"\r\n                                                            }\r\n                                                        </Typography>\r\n                                                    </FlexView>\r\n                                            }\r\n                                        </Col>\r\n                                    </Row>\r\n                                </FlexView>\r\n                            </Col>\r\n                    }\r\n\r\n                    {/** Main presentation (Campaign) */}\r\n                    {\r\n                        mainBody !== MAIN_BODY_CAMPAIGN\r\n                            ?\r\n                            null\r\n                            :\r\n                            this.shouldHideInformation()\r\n                                ?\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}}>\r\n                                    {\r\n                                        user.type === DB_CONST.TYPE_ADMIN\r\n                                            ?\r\n                                            <FlexView column marginTop={30} hAlignContent=\"center\">\r\n                                                <Typography align=\"center\" variant=\"h5\">Restricted to {project.group.displayName} members.\r\n                                                </Typography>\r\n                                            </FlexView>\r\n                                            :\r\n                                            <FlexView column marginTop={30}>\r\n                                                <Typography align=\"left\" variant=\"h5\">Restricted to {project.group.displayName} members.\r\n                                                </Typography>\r\n                                                <NavLink\r\n                                                    to={\r\n                                                        groupUserName\r\n                                                            ?\r\n                                                            ROUTES.VIEW_GROUP_DETAILS.replace(\":groupUserName\", groupUserName).replace(\":groupID\", project.group.groupUserName)\r\n                                                            :\r\n                                                            ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER.replace(\":groupID\", project.group.groupUserName)\r\n                                                    }\r\n                                                    style={{marginTop: 10}}>\r\n                                                    <Typography variant=\"body1\"> Request access</Typography>\r\n                                                </NavLink>\r\n                                            </FlexView>\r\n                                    }\r\n                                </Col>\r\n                                :\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}}>\r\n\r\n                                    {\r\n                                        // pitch deck\r\n                                        !project.Pitch.presentationDocument\r\n                                            ?\r\n                                            null\r\n                                            :\r\n                                            <FlexView column marginTop={30}>\r\n                                                <Typography variant=\"h5\">Pitch deck</Typography>\r\n                                                <DocumentsDownload documents={project.Pitch.presentationDocument} shouldShowRiskWarningOnDownload={true}/>\r\n                                                <Divider style={{marginTop: 10}}/>\r\n                                            </FlexView>\r\n                                    }\r\n\r\n                                    {\r\n                                        // pitch presentation text\r\n                                        !project.Pitch.presentationText\r\n                                            ?\r\n                                            null\r\n                                            :\r\n                                            <FlexView column dangerouslySetInnerHTML={{__html: utils.convertQuillDeltaToHTML(project.Pitch.presentationText.ops)}} marginTop={30}/>\r\n                                    }\r\n                                </Col>\r\n                    }\r\n\r\n                    {/*/!** Investors pledged (only available when the primary offer expired and there are investors pledging the offer) *!/*/}\r\n                    {/*{*/}\r\n                    {/*    mainBody !== MAIN_BODY_INVESTORS_PLEDGED*/}\r\n                    {/*        ?*/}\r\n                    {/*        null*/}\r\n                    {/*        :*/}\r\n                    {/*        <Col*/}\r\n                    {/*            xs={12}*/}\r\n                    {/*            sm={12}*/}\r\n                    {/*            md={12}*/}\r\n                    {/*            lg={{span: 6, offset: 3}}*/}\r\n                    {/*        >*/}\r\n                    {/*            <FlexView*/}\r\n                    {/*                column*/}\r\n                    {/*                marginTop={30}*/}\r\n                    {/*            >*/}\r\n                    {/*                <Typography*/}\r\n                    {/*                    variant=\"h5\"*/}\r\n                    {/*                    align=\"left\"*/}\r\n                    {/*                    paragraph*/}\r\n                    {/*                >*/}\r\n                    {/*                    Pledges from investors*/}\r\n                    {/*                </Typography>*/}\r\n\r\n                    {/*                /!** Pledges table *!/*/}\r\n                    {/*                <PledgesTable/>*/}\r\n                    {/*            </FlexView>*/}\r\n                    {/*        </Col>*/}\r\n                    {/*}*/}\r\n\r\n                    {/** Comments */}\r\n                    {\r\n                        mainBody !== MAIN_BODY_COMMENTS\r\n                            ?\r\n                            null\r\n                            :\r\n                            this.shouldHideInformation()\r\n                                ?\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}}>\r\n                                    {\r\n                                        user.type === DB_CONST.TYPE_ADMIN\r\n                                            ?\r\n                                            <FlexView column marginTop={30} hAlignContent=\"center\">\r\n                                                <Typography align=\"center\" variant=\"h5\">Restricted to {project.group.displayName} members.\r\n                                                </Typography>\r\n                                            </FlexView>\r\n                                            :\r\n                                            <FlexView column marginTop={30}>\r\n                                                <Typography align=\"left\" variant=\"h5\">Restricted to {project.group.displayName} members.\r\n                                                </Typography>\r\n                                                <NavLink\r\n                                                    to={\r\n                                                        groupUserName\r\n                                                            ?\r\n                                                            ROUTES.VIEW_GROUP_DETAILS.replace(\":groupUserName\", groupUserName).replace(\":groupID\", project.group.groupUserName)\r\n                                                            :\r\n                                                            ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER.replace(\":groupID\", project.group.groupUserName)\r\n                                                    }\r\n                                                    style={{marginTop: 10}}>\r\n                                                    <Typography variant=\"body1\">Request access</Typography>\r\n                                                </NavLink>\r\n                                            </FlexView>\r\n                                    }\r\n                                </Col>\r\n                                :\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 8, offset: 2}}>\r\n                                    <Row>\r\n                                        <Col xs={{span: 12, order: 2}} sm={{span: 12, order: 2}} md={{span: 8, order: 1}} lg={{span: 8, order: 1}} style={{marginTop: 40}}>\r\n                                            {\r\n                                                user.type === DB_CONST.TYPE_INVESTOR\r\n                                                    ?\r\n                                                    null\r\n                                                    :\r\n                                                    <Typography align=\"center\" style={{padding: 15, backgroundColor: colors.kick_starter_background_color_1, marginBottom: 30}} variant=\"body2\" color=\"inherit\">Only investors can post comments.</Typography>\r\n                                            }\r\n\r\n                                            {\r\n                                                !commentsLoaded\r\n                                                    ?\r\n                                                    // comments not loaded yet --> load them and wait for them to be loaded\r\n                                                    <FlexView marginTop={30} hAlignContent=\"center\" width=\"100%\">\r\n                                                        <HashLoader\r\n                                                            color={\r\n                                                                !groupProperties\r\n                                                                    ?\r\n                                                                    colors.primaryColor\r\n                                                                    :\r\n                                                                    groupProperties.settings.primaryColor\r\n                                                            }\r\n                                                        />\r\n                                                    </FlexView>\r\n                                                    :\r\n                                                    (\r\n                                                        sortedComments.length > 0\r\n                                                            ?\r\n                                                            (\r\n                                                                <FlexView className={css(styles.border_box)} style={{padding: 15, backgroundColor: colors.kick_starter_background_color}} column>\r\n                                                                    {\r\n                                                                        sortedComments.map(comment => (\r\n                                                                            (\r\n                                                                                // if the comment is from the current user\r\n                                                                                comment.commentedBy === user.id\r\n                                                                                    ?\r\n                                                                                    <FlexView key={comment.id} column marginTop={12} marginBottom={12} className={css(styles.border_box)} style={{backgroundColor: colors.white, width: \"100%\"}}>\r\n                                                                                        <Typography style={{marginTop: 15, marginBottom: 10}} variant=\"body1\" className={css(styles.gray_text)} align=\"left\">Update your comment</Typography>\r\n                                                                                        <InputBase name=\"currentCommentText\" onChange={this.onTextChanged} value={currentCommentText} fullWidth rows={5} multiline className={css(styles.border_box)}/>\r\n                                                                                        <FlexView marginTop={25} width=\"100%\" hAlignContent=\"right\">\r\n                                                                                            <Button size=\"small\" color=\"default\" variant=\"text\" onClick={this.onCancelUpdateCurrentComment}>Cancel</Button>\r\n                                                                                            <Button style={{marginLeft: 15}} size=\"small\" color=\"inherit\" variant=\"outlined\" disabled={(currentComment && currentComment.comment === currentCommentText) || currentCommentText.trim().length === 0} onClick={this.onSubmitUpdateCurrentComment}>Update</Button>\r\n                                                                                        </FlexView>\r\n\r\n                                                                                        {/** Replies */}\r\n                                                                                        {\r\n                                                                                            comment.replies.map(reply => (\r\n                                                                                                <FlexView key={reply.id} height=\"100%\" width=\"100%\" marginLeft={24} marginTop={35}>\r\n                                                                                                    <Divider style={{backgroundColor: styles.gray_text, height: \"auto\", width: 6}}/>\r\n                                                                                                    <FlexView column marginLeft={10} marginRight={24} width=\"100%\">\r\n                                                                                                        {/** Date */}\r\n                                                                                                        <Typography variant=\"body2\" className={css(styles.gray_text)} align=\"left\">\r\n                                                                                                            {\r\n                                                                                                                reply.status === DB_CONST.COMMENT_REPLY_STATUS_POSTED\r\n                                                                                                                    ?\r\n                                                                                                                    `Posted: ${utils.dateTimeInReadableFormat(reply.repliedDate)}`\r\n                                                                                                                    :\r\n                                                                                                                    `Edited: ${utils.dateTimeInReadableFormat(reply.repliedDate)}`\r\n                                                                                                            }\r\n                                                                                                        </Typography>\r\n\r\n                                                                                                        {/** Reply author */}\r\n                                                                                                        <NavLink\r\n                                                                                                            to={\r\n                                                                                                                reply.author.type === DB_CONST.TYPE_ADMIN\r\n                                                                                                                    ?\r\n                                                                                                                    groupUserName\r\n                                                                                                                        ?\r\n                                                                                                                        ROUTES.VIEW_GROUP_DETAILS.replace(\":groupUserName\", groupUserName).replace(\":groupID\", reply.author.anid)\r\n                                                                                                                        :\r\n                                                                                                                        ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER.replace(\":groupID\", reply.author.anid)\r\n                                                                                                                    :\r\n                                                                                                                    groupUserName\r\n                                                                                                                        ?\r\n                                                                                                                        ROUTES.USER_PROFILE\r\n                                                                                                                            .replace(\":groupUserName\", groupUserName)\r\n                                                                                                                            .replace(\":userID\", reply.author.id)\r\n                                                                                                                        :\r\n                                                                                                                        ROUTES.USER_PROFILE_INVEST_WEST_SUPER\r\n                                                                                                                            .replace(\":userID\", reply.author.id)\r\n                                                                                                            }\r\n                                                                                                        >\r\n                                                                                                            <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">\r\n                                                                                                                {\r\n                                                                                                                    reply.author.type === DB_CONST.TYPE_ADMIN\r\n                                                                                                                        ?\r\n                                                                                                                        user.type === DB_CONST.TYPE_ADMIN\r\n                                                                                                                        && user.superAdmin\r\n                                                                                                                            ?\r\n                                                                                                                            `by group admin - ${reply.author.email}`\r\n                                                                                                                            :\r\n                                                                                                                            \"by group admin\"\r\n                                                                                                                        :\r\n                                                                                                                        `by ${reply.author.firstName} ${reply.author.lastName}`\r\n                                                                                                                }\r\n                                                                                                            </Typography>\r\n                                                                                                        </NavLink>\r\n\r\n                                                                                                        {/** Reply text */}\r\n                                                                                                        <Typography variant=\"body2\" align=\"left\" style={{marginTop: 12}}>{reply.text}</Typography>\r\n                                                                                                    </FlexView>\r\n                                                                                                </FlexView>\r\n                                                                                            ))\r\n                                                                                        }\r\n                                                                                    </FlexView>\r\n                                                                                    :\r\n                                                                                    <FlexView key={comment.id} className={css(styles.border_box)} style={{backgroundColor: colors.white}} column marginTop={12} marginBottom={12}>\r\n                                                                                        {/** Date */}\r\n                                                                                        <Typography variant=\"body2\" className={css(styles.gray_text)} align=\"left\">\r\n                                                                                            {\r\n                                                                                                comment.status === DB_CONST.COMMENT_STATUS_POSTED\r\n                                                                                                    ?\r\n                                                                                                    `Posted: ${utils.dateTimeInReadableFormat(comment.commentedDate)}`\r\n                                                                                                    :\r\n                                                                                                    `Edited: ${utils.dateTimeInReadableFormat(comment.commentedDate)}`\r\n                                                                                            }\r\n                                                                                        </Typography>\r\n\r\n                                                                                        {/** Comment author */}\r\n                                                                                        {\r\n                                                                                            user.type === DB_CONST.TYPE_ADMIN\r\n                                                                                            && user.superAdmin\r\n                                                                                                ?\r\n                                                                                                <NavLink\r\n                                                                                                    to={\r\n                                                                                                        groupUserName\r\n                                                                                                            ?\r\n                                                                                                            ROUTES.USER_PROFILE\r\n                                                                                                                .replace(\":groupUserName\", groupUserName)\r\n                                                                                                                .replace(\":userID\", comment.author.id)\r\n                                                                                                            :\r\n                                                                                                            ROUTES.USER_PROFILE_INVEST_WEST_SUPER\r\n                                                                                                                .replace(\":userID\", comment.author.id)\r\n                                                                                                    }\r\n                                                                                                >\r\n                                                                                                    <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">by {comment.author.firstName} {comment.author.lastName}</Typography>\r\n                                                                                                </NavLink>\r\n                                                                                                :\r\n                                                                                                null\r\n                                                                                        }\r\n\r\n                                                                                        {/** Comment text */}\r\n                                                                                        <Typography style={{marginTop: 12}} variant=\"body1\" align=\"left\">{comment.comment}</Typography>\r\n\r\n                                                                                        {/** Reply button */}\r\n                                                                                        {\r\n                                                                                            (user.type === DB_CONST.TYPE_ISSUER\r\n                                                                                                && user.id === projectIssuer.id)\r\n                                                                                            || (\r\n                                                                                                user.type === DB_CONST.TYPE_ADMIN\r\n                                                                                                && project.hasOwnProperty('createdByGroupAdmin')\r\n                                                                                                && user.anid === project.anid\r\n                                                                                            )\r\n                                                                                                ?\r\n                                                                                                <FlexView marginTop={25}>\r\n                                                                                                    <Button variant=\"outlined\" size=\"small\" className={css(sharedStyles.no_text_transform)}\r\n                                                                                                        disabled={\r\n                                                                                                            replyingToComment !== null\r\n                                                                                                            && replyingToComment.id === comment.id\r\n                                                                                                            && replyEdited === null\r\n                                                                                                        }\r\n                                                                                                        onClick={() => this.onToggleReplyToComment(comment, null)}\r\n                                                                                                    >Reply</Button>\r\n                                                                                                </FlexView>\r\n                                                                                                :\r\n                                                                                                null\r\n                                                                                        }\r\n\r\n                                                                                        {/** Reply input area */}\r\n                                                                                        {\r\n                                                                                            replyingToComment !== null\r\n                                                                                            && replyingToComment.id === comment.id\r\n                                                                                            && replyEdited === null\r\n                                                                                                ?\r\n                                                                                                <CommentReplyInputArea replyText={replyText} replyEdited={replyEdited} onToggleReplyToComment={this.onToggleReplyToComment} onSubmitCommentReply={this.onSubmitCommentReply} onTextChanged={this.onTextChanged}/>\r\n                                                                                                :\r\n                                                                                                null\r\n                                                                                        }\r\n\r\n                                                                                        {/** Replies */}\r\n                                                                                        {\r\n                                                                                            comment.replies.map(reply => (\r\n                                                                                                <FlexView key={reply.id} height=\"100%\" width=\"100%\" marginLeft={24} marginTop={35}>\r\n                                                                                                    <Divider style={{backgroundColor: styles.gray_text, height: \"auto\", width: 6}}/>\r\n                                                                                                    <FlexView column marginLeft={10} marginRight={24} width=\"100%\">\r\n                                                                                                        {/** Date */}\r\n                                                                                                        <Typography variant=\"body2\" className={css(styles.gray_text)} align=\"left\">\r\n                                                                                                            {\r\n                                                                                                                reply.status === DB_CONST.COMMENT_REPLY_STATUS_POSTED\r\n                                                                                                                    ?\r\n                                                                                                                    `Posted: ${utils.dateTimeInReadableFormat(reply.repliedDate)}`\r\n                                                                                                                    :\r\n                                                                                                                    `Edited: ${utils.dateTimeInReadableFormat(reply.repliedDate)}`\r\n                                                                                                            }\r\n                                                                                                        </Typography>\r\n\r\n                                                                                                        {/** Reply author */}\r\n                                                                                                        <NavLink\r\n                                                                                                            to={\r\n                                                                                                                reply.author.type === DB_CONST.TYPE_ADMIN\r\n                                                                                                                    ?\r\n                                                                                                                    groupUserName\r\n                                                                                                                        ?\r\n                                                                                                                        ROUTES.VIEW_GROUP_DETAILS.replace(\":groupUserName\", groupUserName).replace(\":groupID\", reply.author.anid)\r\n                                                                                                                        :\r\n                                                                                                                        ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER.replace(\":groupID\", reply.author.anid)\r\n                                                                                                                    :\r\n                                                                                                                    groupUserName\r\n                                                                                                                        ?\r\n                                                                                                                        ROUTES.USER_PROFILE\r\n                                                                                                                            .replace(\":groupUserName\", groupUserName)\r\n                                                                                                                            .replace(\":userID\", reply.author.id)\r\n                                                                                                                        :\r\n                                                                                                                        ROUTES.USER_PROFILE_INVEST_WEST_SUPER\r\n                                                                                                                            .replace(\":userID\", reply.author.id)\r\n                                                                                                            }\r\n                                                                                                        >\r\n                                                                                                            <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">\r\n                                                                                                                {\r\n                                                                                                                    reply.author.type === DB_CONST.TYPE_ADMIN\r\n                                                                                                                        ?\r\n                                                                                                                        user.type === DB_CONST.TYPE_ADMIN\r\n                                                                                                                        && user.superAdmin\r\n                                                                                                                            ?\r\n                                                                                                                            `by group admin - ${reply.author.email}`\r\n                                                                                                                            :\r\n                                                                                                                            \"by group admin\"\r\n                                                                                                                        :\r\n                                                                                                                        `by ${reply.author.firstName} ${reply.author.lastName}`\r\n                                                                                                                }\r\n                                                                                                            </Typography>\r\n                                                                                                        </NavLink>\r\n\r\n                                                                                                        {/** Reply text */}\r\n                                                                                                        <Typography variant=\"body2\" align=\"left\" style={{marginTop: 12}}>\r\n                                                                                                            {reply.text}\r\n                                                                                                        </Typography>\r\n\r\n                                                                                                        {/** Delete/edit a reply */}\r\n                                                                                                        {\r\n                                                                                                            // allow group admins that created this project,\r\n                                                                                                            // and issuer that created this project and owns this reply\r\n                                                                                                            // to edit/delete this reply\r\n                                                                                                            (\r\n                                                                                                                user.type === DB_CONST.TYPE_ISSUER\r\n                                                                                                                || (user.type === DB_CONST.TYPE_ADMIN && !user.superAdmin)\r\n                                                                                                            )\r\n                                                                                                            && user.id === projectIssuer.id\r\n                                                                                                            && user.id === reply.repliedBy\r\n                                                                                                                ?\r\n                                                                                                                <FlexView marginTop={16}>\r\n                                                                                                                    <Button variant=\"outlined\" className={css(sharedStyles.no_text_transform)} size=\"small\" color=\"secondary\" onClick={() => this.onDeleteCommentReply(reply)} style={{marginRight: 10}}>Delete<DeleteIcon fontSize=\"small\" style={{marginLeft: 6}}/>\r\n                                                                                                                    </Button>\r\n                                                                                                                    <Button variant=\"outlined\" className={css(sharedStyles.no_text_transform)} size=\"small\" color=\"primary\" onClick={() => this.onToggleReplyToComment(comment, reply)}>Edit<EditIcon fontSize=\"small\" style={{marginLeft: 6}}/></Button>\r\n                                                                                                                </FlexView>\r\n                                                                                                                :\r\n                                                                                                                null\r\n                                                                                                        }\r\n\r\n                                                                                                        {/** Reply input area to edit a reply */}\r\n                                                                                                        {\r\n                                                                                                            replyingToComment !== null\r\n                                                                                                            && replyingToComment.id === comment.id\r\n                                                                                                            && replyEdited !== null\r\n                                                                                                            && replyEdited.id === reply.id\r\n                                                                                                                ?\r\n                                                                                                                <CommentReplyInputArea replyText={replyText} replyEdited={replyEdited} onToggleReplyToComment={this.onToggleReplyToComment} onSubmitCommentReply={this.onSubmitCommentReply} onTextChanged={this.onTextChanged}/>\r\n                                                                                                                :\r\n                                                                                                                null\r\n                                                                                                        }\r\n                                                                                                    </FlexView>\r\n                                                                                                </FlexView>\r\n                                                                                            ))\r\n                                                                                        }\r\n                                                                                    </FlexView>\r\n                                                                            )\r\n                                                                        ))\r\n                                                                    }\r\n                                                                </FlexView>\r\n                                                            )\r\n                                                            :\r\n                                                            user.type !== DB_CONST.TYPE_INVESTOR\r\n                                                                ?\r\n                                                                <FlexView hAlignContent=\"center\" vAlignContent=\"center\" column style={{padding: 30, backgroundColor: colors.kick_starter_background_color}}>\r\n                                                                    <Typography variant=\"body2\">No comments yet</Typography>\r\n                                                                </FlexView>\r\n                                                                :\r\n                                                                <FlexView hAlignContent=\"center\" vAlignContent=\"center\" column style={{padding: 30, backgroundColor: colors.kick_starter_background_color}}>\r\n                                                                    <Typography variant=\"body2\">No comments yet</Typography>\r\n                                                                    <FlexView marginTop={25} column hAlignContent=\"center\">\r\n                                                                        <div>\r\n                                                                            <Button size=\"small\" onClick={this.onPostACommentClick} variant=\"outlined\" color=\"inherit\" fullWidth={false}\r\n                                                                                disabled={\r\n                                                                                    utils.isProjectLive(project)\r\n                                                                                    && user.type === DB_CONST.TYPE_INVESTOR\r\n                                                                                    && !investorSelfCertificationAgreement\r\n                                                                                }\r\n                                                                            >Post a comment</Button>\r\n                                                                        </div>\r\n\r\n                                                                        {\r\n                                                                            this.renderInvestorSelfCertifyReminder()\r\n                                                                        }\r\n                                                                    </FlexView>\r\n                                                                </FlexView>\r\n                                                    )\r\n                                            }\r\n                                        </Col>\r\n\r\n                                        <Col xs={{span: 12, order: 1}} sm={{span: 12, order: 1}} md={{span: 4, order: 2}} lg={{span: 4, order: 2}} style={{marginTop: 40}}>\r\n\r\n                                            {\r\n                                                user.type === DB_CONST.TYPE_INVESTOR\r\n                                                    ?\r\n                                                    (\r\n                                                        comments.filter(comment => comment.commentedBy === user.id).length === 0\r\n                                                            ?\r\n                                                            <FlexView column>\r\n                                                                <Typography variant=\"subtitle1\" align=\"left\" style={{marginBottom: 25}}>This is your space to offer support and feedback to the issuer. Your identity will not be shared.</Typography>\r\n\r\n                                                                {/** Post a comment - right hand side column - displayed only if there is at least one comment */}\r\n                                                                {\r\n                                                                    commentsLoaded && comments.length > 0\r\n                                                                        ?\r\n                                                                        <div>\r\n                                                                            <Button size=\"small\" onClick={this.onPostACommentClick} variant=\"outlined\" color=\"inherit\"fullWidth={false}\r\n                                                                                disabled={\r\n                                                                                    utils.isProjectLive(project)\r\n                                                                                    && user.type === DB_CONST.TYPE_INVESTOR\r\n                                                                                    && !investorSelfCertificationAgreement\r\n                                                                                }\r\n                                                                            >Post a comment</Button>\r\n                                                                        </div>\r\n                                                                        :\r\n                                                                        null\r\n                                                                }\r\n\r\n                                                                {/** Check investor's self certification status - right hand side column - displayed only if there is at least one comment */}\r\n                                                                {\r\n                                                                    commentsLoaded && comments.length > 0\r\n                                                                        ?\r\n                                                                        this.renderInvestorSelfCertifyReminder()\r\n                                                                        :\r\n                                                                        null\r\n                                                                }\r\n                                                            </FlexView>\r\n                                                            :\r\n                                                            <Typography variant=\"subtitle1\" align=\"left\">You have already commented on this investment opportunity. You can only edit your comment.</Typography>\r\n                                                    )\r\n                                                    :\r\n                                                    <Typography variant=\"subtitle1\" align=\"left\">All the comments from investors are displayed anonymously here.</Typography>\r\n                                            }\r\n\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Col>\r\n                    }\r\n\r\n                    {/** Documents */}\r\n                    {\r\n                        mainBody !== MAIN_BODY_DOCUMENTS\r\n                            ?\r\n                            null\r\n                            :\r\n                            this.shouldHideInformation()\r\n                                ?\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}}>\r\n                                    {\r\n                                        user.type === DB_CONST.TYPE_ADMIN\r\n                                            ?\r\n                                            <FlexView column marginTop={30} hAlignContent=\"center\">\r\n                                                <Typography align=\"center\" variant=\"h5\">Restricted to {project.group.displayName} members.</Typography>\r\n                                            </FlexView>\r\n                                            :\r\n                                            <FlexView column marginTop={30}>\r\n                                                <Typography align=\"left\" variant=\"h5\">Restricted to {project.group.displayName} members.</Typography>\r\n                                                <NavLink\r\n                                                    to={\r\n                                                        groupUserName\r\n                                                            ?\r\n                                                            ROUTES.VIEW_GROUP_DETAILS.replace(\":groupUserName\", groupUserName).replace(\":groupID\", project.group.groupUserName)\r\n                                                            :\r\n                                                            ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER.replace(\":groupID\", project.group.groupUserName)\r\n                                                    }\r\n                                                    style={{marginTop: 10}}>\r\n                                                    <Typography variant=\"body1\">Request access</Typography>\r\n                                                </NavLink>\r\n                                            </FlexView>\r\n                                    }\r\n                                </Col>\r\n                                :\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}} style={{marginTop: 30}}>\r\n                                    <Typography variant=\"h5\" color=\"inherit\">Supporting documents</Typography>\r\n\r\n                                    {\r\n                                        project.Pitch.supportingDocuments && project.Pitch.supportingDocuments.findIndex(document => !document.hasOwnProperty('removed')) !== -1\r\n                                            ?\r\n                                            <DocumentsDownload documents={project.Pitch.supportingDocuments} shouldShowRiskWarningOnDownload={true}/>\r\n                                            :\r\n                                            <Typography variant=\"body1\" color=\"textSecondary\" style={{marginTop: 35}}>No supporting documents uploaded.</Typography>\r\n                                    }\r\n                                </Col>\r\n                    }\r\n\r\n                    {/** Notes */}\r\n                    {\r\n                        mainBody !== MAIN_BODY_NOTES\r\n                            ?\r\n                            null\r\n                            :\r\n                            this.shouldHideInformation()\r\n                                ?\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}}>\r\n                                    {\r\n                                        user.type === DB_CONST.TYPE_ADMIN\r\n                                            ?\r\n                                            <FlexView column marginTop={30} hAlignContent=\"center\">\r\n                                                <Typography align=\"center\" variant=\"h5\">Restricted to {project.group.displayName} members.</Typography>\r\n                                            </FlexView>\r\n                                            :\r\n                                            <FlexView column marginTop={30}>\r\n                                                <Typography align=\"left\" variant=\"h5\">Restricted to {project.group.displayName} members.\r\n                                                </Typography>\r\n                                                <NavLink\r\n                                                    to={\r\n                                                        groupUserName\r\n                                                            ?\r\n                                                            ROUTES.VIEW_GROUP_DETAILS.replace(\":groupUserName\", groupUserName).replace(\":groupID\", project.group.groupUserName)\r\n                                                            :\r\n                                                            ROUTES.VIEW_GROUP_DETAILS_INVEST_WEST_SUPER.replace(\":groupID\", project.group.groupUserName)\r\n                                                    }\r\n                                                    style={{marginTop: 10}}>\r\n                                                    <Typography variant=\"body1\">Request access</Typography>\r\n                                                </NavLink>\r\n                                            </FlexView>\r\n                                    }\r\n                                </Col>\r\n                                :\r\n                                <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}} style={{marginTop: 30}}>\r\n                                    <Typography variant=\"h5\" color=\"inherit\">Extra information</Typography>\r\n\r\n                                    {/** Financial round */}\r\n                                    {\r\n                                        !project.Pitch.hasOwnProperty('financialRound')\r\n                                            ?\r\n                                            null\r\n                                            :\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">Financial round the company is looking for:&nbsp;&nbsp;\r\n                                                    <b>\r\n                                                        {project.Pitch.financialRound}\r\n                                                    </b>\r\n                                                </Typography>\r\n                                            </FlexView>\r\n                                    }\r\n\r\n                                    {/** Prior investment */}\r\n                                    <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={40} vAlignContent=\"center\">\r\n                                        <Typography variant=\"body1\" align=\"left\">Prior investment raised:&nbsp;&nbsp;<b>\r\n                                                {\r\n                                                    project.Pitch.amountRaised === 0\r\n                                                        ?\r\n                                                        \"none\"\r\n                                                        :\r\n                                                        `${Number(project.Pitch.amountRaised.toFixed(2)).toLocaleString()}`\r\n                                                }\r\n                                            </b>\r\n                                        </Typography>\r\n\r\n                                        {/*{*/}\r\n                                        {/*    project.Pitch.amountRaised === 0*/}\r\n                                        {/*        ?*/}\r\n                                        {/*        null*/}\r\n                                        {/*        :*/}\r\n                                        {/*        <Typography*/}\r\n                                        {/*            style={{marginTop: 30}}*/}\r\n                                        {/*            variant=\"body1\"*/}\r\n                                        {/*            align=\"left\"*/}\r\n                                        {/*        >*/}\r\n                                        {/*            Investors publicly committed:*/}\r\n                                        {/*            {*/}\r\n                                        {/*                !project.Pitch.investorsCommitted*/}\r\n                                        {/*                    ?*/}\r\n                                        {/*                    <b>&nbsp;&nbsp; Not provided.</b>*/}\r\n                                        {/*                    :*/}\r\n                                        {/*                    <b>&nbsp;&nbsp; {project.Pitch.investorsCommitted}</b>*/}\r\n                                        {/*            }*/}\r\n                                        {/*        </Typography>*/}\r\n                                        {/*}*/}\r\n                                    </FlexView>\r\n\r\n                                    {/** How fund is being raised */}\r\n                                    {\r\n                                        !project.Pitch.hasOwnProperty('howFundIsBeingRaised')\r\n                                            ?\r\n                                            null\r\n                                            :\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">How does the company plan to raise funds:  {project.Pitch.howFundIsBeingRaised}</Typography>\r\n                                            </FlexView>\r\n                                    }\r\n\r\n                                   \r\n                                        \r\n                                            \r\n                                    {\r\n                                        project.Pitch.hasSEIS === \"Yes\"\r\n                                            ?\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">Does this pitch have a SEIS badge: <b> {project.Pitch.hasSEIS}</b></Typography>\r\n                                            </FlexView>\r\n                                            :\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">Does this pitch have a SEIS badge: <b> No </b></Typography>\r\n                                            </FlexView>\r\n                                    }\r\n                                            \r\n                                    \r\n\r\n                                    \r\n                                    {\r\n                                        project.Pitch.hasEIS === \"Yes\"\r\n                                            ?\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">Does this pitch have a EIS badge: <b> {project.Pitch.hasEIS}</b></Typography>\r\n                                            </FlexView>\r\n                                            :\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">Does this pitch have a EIS badge: <b> No </b></Typography>\r\n                                            </FlexView>\r\n\r\n                                    }\r\n                                    \r\n\r\n                                    \r\n                                    \r\n\r\n                                    {/** Details about earlier fundraising rounds */}\r\n                                    {\r\n                                        !project.Pitch.hasOwnProperty('detailsAboutEarlierFundraisingRounds')\r\n                                            ?\r\n                                            null\r\n                                            :\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">Details about earlier fundraising rounds:<br/><br/> {project.Pitch.detailsAboutEarlierFundraisingRounds}</Typography>\r\n                                            </FlexView>\r\n                                    }\r\n\r\n                                    {/** QIB - special news */}\r\n                                    {\r\n                                        project.Pitch.hasOwnProperty('qibSpecialNews')\r\n                                        && (\r\n                                            (\r\n                                                (\r\n                                                    groupProperties\r\n                                                    && groupProperties.groupUserName === \"qib\"\r\n                                                )\r\n                                                && (\r\n                                                    (user.type === DB_CONST.TYPE_ADMIN\r\n                                                        && user.anid === groupProperties.anid)\r\n                                                    || (user.type === DB_CONST.TYPE_ISSUER\r\n                                                        && user.id === project.issuerID)\r\n                                                )\r\n                                            )\r\n                                            ||\r\n                                            (\r\n                                                !groupProperties\r\n                                                && user.type === DB_CONST.TYPE_ADMIN\r\n                                                && user.superAdmin\r\n                                            )\r\n                                        )\r\n                                            ?\r\n                                            <FlexView className={css(styles.border_box)} style={{backgroundColor: colors.kick_starter_background_color}} column marginTop={30} vAlignContent=\"center\">\r\n                                                <Typography variant=\"body1\" align=\"left\">Special news that Briony should talk about:\r\n                                                    <br/><br/>\r\n                                                    {project.Pitch.qibSpecialNews}\r\n                                                </Typography>\r\n                                            </FlexView>\r\n                                            :\r\n                                            null\r\n                                    }\r\n                                </Col>\r\n                    }\r\n                </Row>\r\n\r\n                {/** Risk warning footer */}\r\n                <Row noGutters>\r\n                    <Col xs={12} sm={12} md={12} lg={{span: 6, offset: 3}}>\r\n                        <RiskWarning/>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Prevent the investors from interacting with the offer if they have not self-certified\r\n     *\r\n     * @returns {*}\r\n     */\r\n    renderInvestorSelfCertifyReminder = () => {\r\n        const {\r\n            groupUserName,\r\n            user,\r\n            investorSelfCertificationAgreement,\r\n            project\r\n        } = this.props;\r\n\r\n        if (user.type !== DB_CONST.TYPE_INVESTOR) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            utils.isProjectLive(project)\r\n            && !investorSelfCertificationAgreement\r\n                ?\r\n                <FlexView column marginTop={20}>\r\n                    <Typography align=\"left\" variant=\"body2\" color=\"textSecondary\">You cannot interact with this offer as you have not completed your self certification.</Typography>\r\n                    <NavLink\r\n                        to={\r\n                            groupUserName\r\n                                ?\r\n                                `${ROUTES.DASHBOARD_INVESTOR.replace(\":groupUserName\", groupUserName)}?tab=Profile`\r\n                                :\r\n                                `${ROUTES.DASHBOARD_INVESTOR_INVEST_WEST_SUPER}?tab=Profile`\r\n                        }\r\n                        style={{\r\n                            marginTop: 4\r\n                        }}\r\n                    >\r\n                        <Typography variant=\"body2\"><u>Self certify</u></Typography>\r\n                    </NavLink>\r\n                </FlexView>\r\n                :\r\n                null\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Container fluid style={{padding: 0}}>\r\n                {\r\n                    this.renderPageContent()\r\n                }\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Function to decide if information should be hidden or not\r\n     */\r\n    shouldHideInformation = () => {\r\n        const {\r\n            project,\r\n            user,\r\n            groupsUserIsIn\r\n        } = this.props;\r\n\r\n        // user is an admin\r\n        if (user.type === DB_CONST.TYPE_ADMIN) {\r\n            // user is a super admin\r\n            if (user.superAdmin) {\r\n                return false;\r\n            }\r\n\r\n            // user is a group admin and is the group that owns the project\r\n            if (user.anid === project.anid) {\r\n                return false;\r\n            }\r\n\r\n            // other group admins must go through the checks of project's visibility\r\n            switch (project.visibility) {\r\n                case DB_CONST.PROJECT_VISIBILITY_PUBLIC:\r\n                    return false;\r\n                case DB_CONST.PROJECT_VISIBILITY_RESTRICTED:\r\n                    return true;\r\n                case DB_CONST.PROJECT_VISIBILITY_PRIVATE:\r\n                    return true;\r\n                default:\r\n                    return true;\r\n            }\r\n        }\r\n        // user is not an admin\r\n        else {\r\n            // should not hide any information if the user is an issuer that created this offer\r\n            if (user.type === DB_CONST.TYPE_ISSUER && user.id === project.issuerID) {\r\n                return false;\r\n            }\r\n\r\n            // if somehow groupsUserIsIn is null, information must be hidden\r\n            if (!groupsUserIsIn) {\r\n                return true;\r\n            }\r\n\r\n            // if the project is not a restricted one, should not hide any information\r\n            if (project.visibility !== DB_CONST.PROJECT_VISIBILITY_RESTRICTED) {\r\n                return false;\r\n            }\r\n\r\n            // user is not the member of the group that posted this offer --> hide information\r\n            // otherwise, should not hide information\r\n            return groupsUserIsIn.findIndex(group => group.anid === project.anid) === -1;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Render the status for this project\r\n     */\r\n    renderProjectStatus = () => {\r\n        const {\r\n            project\r\n        } = this.props;\r\n\r\n        let stt = {text: '', color: ''};\r\n\r\n        if (utils.isProjectWaitingToGoLive(project)\r\n            || utils.isProjectRejectedToGoLive(project)\r\n            || utils.isProjectSuccessful(project)\r\n            || utils.isProjectFailed(project)\r\n        ) {\r\n            return (\r\n                <FlexView marginTop={30} marginBottom={30}>\r\n                    <Typography variant=\"body1\" color=\"error\" align=\"left\">\r\n                        {\r\n                            utils.isProjectWaitingToGoLive(project)\r\n                                ?\r\n                                \"Offer is being checked.\"\r\n                                :\r\n                                utils.isProjectRejectedToGoLive(project)\r\n                                    ?\r\n                                    \"Offer has been rejected.\"\r\n                                    :\r\n                                    \"Offer closed.\"\r\n                        }\r\n                    </Typography>\r\n                </FlexView>\r\n            );\r\n        }\r\n\r\n        if (project.PrimaryOffer) {\r\n            switch (project.PrimaryOffer.status) {\r\n                case DB_CONST.PRIMARY_OFFER_STATUS_ON_GOING:\r\n                    return (\r\n                        <FlexView column marginTop={30} marginBottom={30}>\r\n                            <Typography variant=\"body2\" color=\"primary\" align=\"left\">Offer is in pledge phase</Typography>\r\n                            <Typography variant=\"h5\" color=\"textPrimary\" align=\"left\">{utils.dateDiff(project.PrimaryOffer.expiredDate)}</Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\">days remaining</Typography>\r\n                        </FlexView>\r\n                    );\r\n                case DB_CONST.PRIMARY_OFFER_STATUS_EXPIRED:\r\n                    stt.text = \"Pledge has expired.\";\r\n                    stt.color = \"primary\";\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        } else {\r\n            switch (project.Pitch.status) {\r\n                case DB_CONST.PITCH_STATUS_ON_GOING:\r\n                    return (\r\n                        <FlexView column marginTop={30} marginBottom={30}>\r\n                            <Typography variant=\"body2\" color=\"primary\" align=\"left\">Offer is in pitch phase\r\n                            </Typography>\r\n                            <Typography variant=\"h5\" color=\"textPrimary\" align=\"left\">{utils.dateDiff(project.Pitch.expiredDate)}</Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\" align=\"left\"\r\n                            >days remaining</Typography>\r\n                        </FlexView>\r\n                    );\r\n                case DB_CONST.PITCH_STATUS_ACCEPTED_CREATE_PRIMARY_OFFER:\r\n                    stt.text = \"Awaiting pledge page to be created.\";\r\n                    stt.color = \"textSecondary\";\r\n                    break;\r\n                case DB_CONST.PITCH_STATUS_REJECTED:\r\n                    stt.text = \"Offer failed as its pitch was rejected.\";\r\n                    stt.color = \"error\";\r\n                    break;\r\n                case DB_CONST.PITCH_STATUS_WAITING_FOR_ADMIN:\r\n                    stt.text = \"Pitch expired. Awaiting Group Admin review.\";\r\n                    stt.color = \"textSecondary\";\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return (\r\n            <FlexView marginTop={30} marginBottom={30}>\r\n                <Typography align=\"left\" variant=\"body1\" color={stt.color}>{stt.text}</Typography>\r\n            </FlexView>\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Check whether voting should be disabled or not\r\n     */\r\n    shouldVoteDisabled = () => {\r\n        const {\r\n            project,\r\n            user,\r\n            groupsUserIsIn,\r\n            investorSelfCertificationAgreement\r\n        } = this.props;\r\n\r\n        // do not let the owner of the pitch vote for themselves\r\n        // also, do not let the admin vote the pitch\r\n        if (project.issuerID === firebase.auth().currentUser.uid\r\n            || user.type === DB_CONST.TYPE_ADMIN\r\n        ) {\r\n            return true;\r\n        }\r\n\r\n        if (!groupsUserIsIn) {\r\n            return true;\r\n        }\r\n\r\n        // user is not in the group that posted the offer\r\n        if (project.visibility !== DB_CONST.PROJECT_VISIBILITY_PUBLIC\r\n            && groupsUserIsIn.findIndex(group => group.anid === project.anid) === -1\r\n        ) {\r\n            return true;\r\n        }\r\n\r\n        // do not let investors who haven't uploaded self-certification vote\r\n        if (user.type === DB_CONST.TYPE_INVESTOR) {\r\n            if (!investorSelfCertificationAgreement) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        // do not let issuers vote\r\n        if (user.type === DB_CONST.TYPE_ISSUER) {\r\n            return true;\r\n        }\r\n\r\n        // do not allow investors to vote when the Pitch has expired\r\n        if (project.Pitch.status !== DB_CONST.PITCH_STATUS_ON_GOING) {\r\n            return true;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Displaying votes (number or percentage depending on the type of user who is viewing it)\r\n     *\r\n     * If an investor is viewing it, percentage should be displayed.\r\n     *\r\n     * If an issuer or admin is viewing it, number should be displayed.\r\n     */\r\n    displayVote = type => {\r\n        const {\r\n            // user,\r\n            votes\r\n        } = this.props;\r\n\r\n        let yesVotes = 0;\r\n        let noVotes = 0;\r\n\r\n        votes.forEach(vote => {\r\n            const voted = vote.voted;\r\n            if (voted !== '') {\r\n                if (voted) {\r\n                    yesVotes += 1;\r\n                } else {\r\n                    noVotes += 1;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (type) {\r\n            return yesVotes;\r\n        } else {\r\n            return noVotes\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * Get investor vote\r\n *\r\n * @param votes\r\n * @param user\r\n * @returns {null|*}\r\n */\r\nconst getInvestorVote = (votes, user) => {\r\n    if (votes.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    let investorVoteIndex = votes.findIndex(vote => vote.investorID === user.id);\r\n    // investor has voted\r\n    if (investorVoteIndex !== -1) {\r\n        return votes[investorVoteIndex];\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n/**\r\n * Comment dialog - displayed when the Investor clicks on the Comment button\r\n */\r\nclass CommentDialog extends Component {\r\n\r\n    onClose = () => {\r\n        this.props.onClose();\r\n    };\r\n\r\n    onCommentTextChanged = event => {\r\n        this.props.onCommentTextChanged(event);\r\n    };\r\n\r\n    onSubmitCommentClick = () => {\r\n        this.props.onSubmitCommentClick();\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            open,\r\n            project,\r\n            commentText,\r\n            commentSubmitClick\r\n        } = this.props;\r\n\r\n        if (!project) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <Dialog fullWidth open={open} onClose={this.onClose}>\r\n                <DialogTitle>Make a comment</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText align=\"left\">Please enter your comment here.</DialogContentText>\r\n                    <InputBase error={commentText.trim().length === 0 && commentSubmitClick} name=\"commentText\" value={commentText} onChange={this.onCommentTextChanged} rows={5} fullWidth multiline className={css(styles.border_box)}/>\r\n                </DialogContent>\r\n                <DialogActions style={{paddingTop: 20, paddingBottom: 20, paddingRight: 24}}>\r\n                    <Button size=\"small\" color=\"default\" variant=\"text\" onClick={this.onClose}>Cancel</Button>\r\n                    <Button disabled={commentText.trim().length > 0 && commentSubmitClick} style={{marginLeft: 15}} size=\"small\" color=\"inherit\" variant=\"outlined\" onClick={this.onSubmitCommentClick}>Post comment</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * Reply input area\r\n */\r\nclass CommentReplyInputArea extends Component {\r\n\r\n    onToggleReplyToComment = (comment, replyEdited) => {\r\n        this.props.onToggleReplyToComment(comment, replyEdited);\r\n    }\r\n\r\n    onSubmitCommentReply = () => {\r\n        this.props.onSubmitCommentReply();\r\n    }\r\n\r\n    onTextChanged = event => {\r\n        this.props.onTextChanged(event);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            replyText\r\n        } = this.props;\r\n\r\n        return (\r\n            <FlexView column marginTop={30} width=\"auto\">\r\n                <InputBase name=\"replyText\" value={replyText} onChange={this.onTextChanged} rows={5} fullWidth multiline className={css(styles.border_box)}/>\r\n                <FlexView marginTop={18} width=\"100%\" hAlignContent=\"right\">\r\n                    <Button size=\"small\" color=\"default\" variant=\"text\" className={css(sharedStyles.no_text_transform)} onClick={() => this.onToggleReplyToComment(null, null)}>Cancel</Button>\r\n                    <Button disabled={replyText.trim().length === 0} style={{marginLeft: 15}} size=\"small\" color=\"inherit\" variant=\"outlined\" className={css(sharedStyles.no_text_transform)} onClick={this.onSubmitCommentReply}>Submit</Button>\r\n                </FlexView>\r\n            </FlexView>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProjectDetailsMain);\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    gray_text: {\r\n        color: colors.gray_700\r\n    },\r\n\r\n    faq_box: {\r\n        border: `1px solid ${colors.kick_starter_gray_box_border}`,\r\n        boxShadow: 'none',\r\n        backgroundColor: colors.white,\r\n        marginBottom: 12,\r\n        ':hover': {\r\n            backgroundColor: colors.gray_50\r\n        }\r\n    },\r\n\r\n    border_box: {\r\n        border: `1px solid ${colors.kick_starter_gray_box_border}`,\r\n        padding: 14\r\n    },\r\n\r\n    admin_state_control_box: {\r\n        border: `1px solid ${colors.kick_starter_gray_box_border}`,\r\n        padding: 24,\r\n        backgroundColor: colors.gray_100\r\n    },\r\n\r\n    sticky_body_sections_bar: {\r\n        position: \"sticky\",\r\n        top: 0,\r\n        backgroundColor: colors.white,\r\n        zIndex: 1\r\n    },\r\n\r\n    main_body_section: {\r\n        minHeight: 600,\r\n        padding: 15,\r\n        backgroundColor: colors.white\r\n    },\r\n\r\n    black_text: {\r\n        color: colors.black\r\n    }\r\n});","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z\"\n}), 'SuccessOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"\n}), 'ReportProblemOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"\n}), 'ErrorOutline');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z\"\n}), 'InfoOutlined');","import * as React from 'react';\nimport { createSvgIcon } from '@material-ui/core/utils';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { withStyles, lighten, darken } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport SuccessOutlinedIcon from '../internal/svg-icons/SuccessOutlined';\nimport ReportProblemOutlinedIcon from '../internal/svg-icons/ReportProblemOutlined';\nimport ErrorOutlineIcon from '../internal/svg-icons/ErrorOutline';\nimport InfoOutlinedIcon from '../internal/svg-icons/InfoOutlined';\nimport CloseIcon from '../internal/svg-icons/Close';\nimport IconButton from '@material-ui/core/IconButton';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  var getColor = theme.palette.type === 'light' ? darken : lighten;\n  var getBackgroundColor = theme.palette.type === 'light' ? lighten : darken;\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.body2, {\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: 'transparent',\n      display: 'flex',\n      padding: '6px 16px'\n    }),\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"success\"`. */\n    standardSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.success.main, 0.9),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"info\"`. */\n    standardInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.info.main, 0.9),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"warning\"`. */\n    standardWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.warning.main, 0.9),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"standard\"` and `color=\"error\"`. */\n    standardError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      backgroundColor: getBackgroundColor(theme.palette.error.main, 0.9),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"success\"`. */\n    outlinedSuccess: {\n      color: getColor(theme.palette.success.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.success.main),\n      '& $icon': {\n        color: theme.palette.success.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"info\"`. */\n    outlinedInfo: {\n      color: getColor(theme.palette.info.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.info.main),\n      '& $icon': {\n        color: theme.palette.info.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"warning\"`. */\n    outlinedWarning: {\n      color: getColor(theme.palette.warning.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.warning.main),\n      '& $icon': {\n        color: theme.palette.warning.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"outlined\"` and `color=\"error\"`. */\n    outlinedError: {\n      color: getColor(theme.palette.error.main, 0.6),\n      border: \"1px solid \".concat(theme.palette.error.main),\n      '& $icon': {\n        color: theme.palette.error.main\n      }\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"success\"`. */\n    filledSuccess: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.success.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"info\"`. */\n    filledInfo: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.info.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"warning\"`. */\n    filledWarning: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.warning.main\n    },\n\n    /* Styles applied to the root element if `variant=\"filled\"` and `color=\"error\"`. */\n    filledError: {\n      color: '#fff',\n      fontWeight: theme.typography.fontWeightMedium,\n      backgroundColor: theme.palette.error.main\n    },\n\n    /* Styles applied to the icon wrapper element. */\n    icon: {\n      marginRight: 12,\n      padding: '7px 0',\n      display: 'flex',\n      fontSize: 22,\n      opacity: 0.9\n    },\n\n    /* Styles applied to the message wrapper element. */\n    message: {\n      padding: '8px 0'\n    },\n\n    /* Styles applied to the action wrapper element if `action` is provided. */\n    action: {\n      display: 'flex',\n      alignItems: 'center',\n      marginLeft: 'auto',\n      paddingLeft: 16,\n      marginRight: -8\n    }\n  };\n};\nvar defaultIconMapping = {\n  success: /*#__PURE__*/React.createElement(SuccessOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  warning: /*#__PURE__*/React.createElement(ReportProblemOutlinedIcon, {\n    fontSize: \"inherit\"\n  }),\n  error: /*#__PURE__*/React.createElement(ErrorOutlineIcon, {\n    fontSize: \"inherit\"\n  }),\n  info: /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    fontSize: \"inherit\"\n  })\n};\n\nvar _ref = /*#__PURE__*/React.createElement(CloseIcon, {\n  fontSize: \"small\"\n});\n\nvar Alert = /*#__PURE__*/React.forwardRef(function Alert(props, ref) {\n  var action = props.action,\n      children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$closeText = props.closeText,\n      closeText = _props$closeText === void 0 ? 'Close' : _props$closeText,\n      color = props.color,\n      icon = props.icon,\n      _props$iconMapping = props.iconMapping,\n      iconMapping = _props$iconMapping === void 0 ? defaultIconMapping : _props$iconMapping,\n      onClose = props.onClose,\n      _props$role = props.role,\n      role = _props$role === void 0 ? 'alert' : _props$role,\n      _props$severity = props.severity,\n      severity = _props$severity === void 0 ? 'success' : _props$severity,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'standard' : _props$variant,\n      other = _objectWithoutProperties(props, [\"action\", \"children\", \"classes\", \"className\", \"closeText\", \"color\", \"icon\", \"iconMapping\", \"onClose\", \"role\", \"severity\", \"variant\"]);\n\n  return /*#__PURE__*/React.createElement(Paper, _extends({\n    role: role,\n    square: true,\n    elevation: 0,\n    className: clsx(classes.root, classes[\"\".concat(variant).concat(capitalize(color || severity))], className),\n    ref: ref\n  }, other), icon !== false ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.icon\n  }, icon || iconMapping[severity] || defaultIconMapping[severity]) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.message\n  }, children), action != null ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, action) : null, action == null && onClose ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.action\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    \"aria-label\": closeText,\n    title: closeText,\n    color: \"inherit\",\n    onClick: onClose\n  }, _ref)) : null);\n});\nprocess.env.NODE_ENV !== \"production\" ? Alert.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The action to display. It renders after the message, at the end of the alert.\n   */\n  action: PropTypes.node,\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Override the default label for the *close popup* icon button.\n   *\n   * For localization purposes, you can use the provided [translations](/guides/localization/).\n   */\n  closeText: PropTypes.string,\n\n  /**\n   * The main color for the alert. Unless provided, the value is taken from the `severity` prop.\n   */\n  color: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * Override the icon displayed before the children.\n   * Unless provided, the icon is mapped to the value of the `severity` prop.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The component maps the `severity` prop to a range of different icons,\n   * for instance success to `<SuccessOutlined>`.\n   * If you wish to change this mapping, you can provide your own.\n   * Alternatively, you can use the `icon` prop to override the icon displayed.\n   */\n  iconMapping: PropTypes.shape({\n    error: PropTypes.node,\n    info: PropTypes.node,\n    success: PropTypes.node,\n    warning: PropTypes.node\n  }),\n\n  /**\n   * Callback fired when the component requests to be closed.\n   * When provided and no `action` prop is set, a close icon button is displayed that triggers the callback when clicked.\n   *\n   * @param {object} event The event source of the callback.\n   */\n  onClose: PropTypes.func,\n\n  /**\n   * The ARIA role attribute of the element.\n   */\n  role: PropTypes.string,\n\n  /**\n   * The severity of the alert. This defines the color and icon used.\n   */\n  severity: PropTypes.oneOf(['error', 'info', 'success', 'warning']),\n\n  /**\n   * The variant to use.\n   */\n  variant: PropTypes.oneOf(['filled', 'outlined', 'standard'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAlert'\n})(Alert);"],"names":["FeedbackSnackbarNew","Component","render","FeedbackSnackbarLocalState","close","this","props","_jsx","Snackbar","open","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","TransitionComponent","SlideTransitionUp","transitionDuration","enter","exit","children","Alert","variant","severity","type","message","connect","state","dispatch","closeFeedbackSnackbar","React","ref","Slide","_objectSpread","direction","RiskWarning","ManageSystemAttributesState","ManageGroupUrlState","systemAttributes","riskWarningFooter","split","join","group","displayName","splits","urlText","_jsxs","Box","border","concat","colors","borderRadius","padding","bgcolor","Typography","align","marginTop","whiteSpace","CustomLink","url","Routes","nonGroupRiskWarning","target","color","getGroupRouteTheme","palette","error","main","activeColor","activeUnderline","component","childComponent","StepButton","active","alternativeLabel","classes","className","completed","disabled","icon","expanded","optional","last","orientation","other","_objectWithoutProperties","childProps","child","isMuiElement","StepLabel","ButtonBase","_extends","focusRipple","TouchRippleProps","touchRipple","clsx","root","withStyles","width","margin","boxSizing","justifyContent","name","StepContent","_props$TransitionComp","Collapse","_props$transitionDura","transitionDurationProp","TransitionProps","muiSupportAuto","undefined","in","transition","timeout","unmountOnExit","theme","marginLeft","paddingLeft","paddingRight","borderLeft","grey","DialogContentText","marginBottom","DocumentsDownload","documents","shouldShowRiskWarningOnDownload","DocumentsDownloadLocalState","onDocumentClick","onAcceptRiskWarningClick","onCancelRiskWarningClick","length","riskWarningTextSplits","List","map","document","index","removed","ListItem","button","onClick","alt","src","require","height","display","flexDirection","fileName","readableSize","Dialog","openRiskWarningDialog","DialogTitle","DialogContent","DialogActions","marginRight","Button","css","sharedStyles","no_text_transform","shouldShowRiskWarning","ContactPitchOwnerDialog","ContactPitchOwnerDialogLocalState","toggleContactDialog","sendContactEmail","contactDialogOpen","isSendingContactEmail","projectOwnerEmail","toggleContactPitchOwnerDialog","ProjectDetailsMain","constructor","super","loadData","user","userLoaded","selectProjectVisibility_setProject","dataLoaded","dataBeingLoaded","setState","investorPledgeLoaded","projectDetail","projectLoaded","projectIssuerLoaded","votesLoaded","pledgesLoaded","projectID","match","params","realtimeDBUtils","then","project","DB_CONST","userID","id","activityType","interactedObjectLocation","interactedObjectID","activitySummary","replace","projectName","action","ROUTES","mainBody","anid","adminOfferStatesActiveStep","status","votes","pledges","currentUserPledgeIndex","findIndex","pledge","investorID","amount","investorPledge","issuerID","projectIssuer","catch","loadDataWhenUIElementsChange","pledgesTable_setProject","commentsLoaded","votesListener","database","orderByChild","equalTo","on","snapshot","vote","val","existingVote","investor","voteIndex","updatedVotes","voteRemovedID","key","splice","pledgesListener","existingPledge","pledgeIndex","updatedPledges","currentPledge","JSON","parse","stringify","pledgeRemovedID","returnedComments","commentsWithReplies","comments","commentsListener","comment","replies","commentedBy","currenComment","currentComment","currentCommentText","existingComment","author","commentIndex","updatedComments","commentsRepliesListener","reply","correspondingCommentIndex","commentID","existingReply","hasOwnProperty","deleted","repliedBy","replyIndex","handleVotePitch","voteVal","groupProperties","currentVoteObj","getInvestorVote","newVoteObj","voted","date","utils","update","value","before","after","push","set","title","attachProjectChangedListener","projectListener","issuer","detachProjectChangedListener","off","handleDocumentClick","downloadURL","window","handleMakeProjectGoLiveDecision","decision","handleMakeProjectGoToPledgePhaseDecision","Pitch","handleMakeProjectPledgeGoLiveDecision","handleMainBodyTabChanged","event","handlePostACommentClick","commentDialogOpen","handleCloseCommentDialog","commentText","commentSubmitClick","handleTextChanged","handleDateChanged","changedPitchExpiryDate","NaN","getTime","handleSubmitCommentClick","setFeedbackSnackbarContent","trim","commenterANID","commentedDate","handleCancelUpdateCurrentComment","handleSubmitUpdateCurrentComment","newComment","handleToggleReplyToComment","replyEdited","replyingToComment","replyText","text","handleSubmitCommentReply","replyBeforeUpdating","replyAfterUpdating","repliedDate","commentReply","replyID","handleDeleteCommentReply","handleAdminOfferStatesStepClick","step","bringPitchBackToLive","async","newPitchExpiryDate","toggleRejectFeedback","addingRejectFeedback","rejectFeedback","sendProjectBackToIssuer","sendingProjectBack","Api","request","ApiRoutes","sendProjectBackToIssuerRoute","queryParameters","requestBody","feedback","firebase","componentDidMount","groupPropertiesLoaded","shouldLoadOtherData","userBeingLoaded","investorSelfCertificationAgreement_userID","investorSelfCertificationAgreementLoaded","investorSelfCertificationAgreementBeingLoaded","setGroupUserNameFromParams","setExpectedAndCurrentPathsForChecking","loadAngelNetwork","investorSelfCertificationAgreement_setUser","loadInvestorSelfCertificationAgreement","groupUserName","path","console","log","AuthenticationState","isAuthenticated","currentUser","componentDidUpdate","prevProps","prevState","componentWillUnmount","pledgesTable_stopListeningForPledgesChanged","isMobile","authStatus","authenticating","groupsUserIsIn","investorSelfCertificationAgreement","createPledgeDialog_toggleDialog","createPledgeDialog_setProject","projectVisibilitySetting","isAuthenticating","FlexView","hAlignContent","HashLoader","settings","primaryColor","AUTH_SUCCESS","hasAuthenticationError","PageNotFoundWhole","ProjectDetails","onVote","onMakeProjectGoLiveDecision","onMakeProjectGoToPledgePhaseDecision","onMakeProjectPledgeGoLiveDecision","onTabChanged","onPostACommentClick","onTextChanged","onDateChanged","onCancelUpdateCurrentComment","onSubmitUpdateCurrentComment","onToggleReplyToComment","onSubmitCommentReply","onDeleteCommentReply","onAdminOfferStatesStepClick","email","CommentDialog","onCommentTextChanged","onSubmitCommentClick","CreatePledgeDialog","arguments","renderPageContent","Row","noGutters","Col","xs","md","lg","visibility","PageNotFound","superAdmin","style","span","offset","sortedComments","sort","comment1","comment2","currentCommentIndex","reverse","forEach","reply1","reply2","Container","fluid","paddingTop","paddingBottom","backgroundColor","order","sm","white_text","Paper","elevation","square","vAlignContent","CheckCircleIcon","Number","toFixed","toLocaleString","NavLink","to","pathname","search","nav_link_hover","column","shouldHideInformation","styles","gray_text","sector","description","nav_link_hover_without_changing_text_color","size","CreateIcon","createdByGroupAdmin","black_text","firstName","lastName","linkedin","href","rel","Image","maxHeight","objectFit","cover","coverItem","fileType","ReactPlayer","playsInline","pip","storageID","playing","controls","fundRequired","InfoOverlay","placement","postMoneyValuation","renderProjectStatus","hasSEIS","border_box","hasEIS","isProjectOwner","TYPE_INVESTOR","renderInvestorSelfCertifyReminder","PrimaryOffer","expiredDate","fullWidth","sticky_body_sections_bar","Divider","Tabs","onChange","indicatorColor","textColor","scrollButtons","Tab","tab_title","label","secondaryColor","main_body_section","Stepper","nonLinear","activeStep","Step","admin_state_control_box","paragraph","SelectPitchVisibility","TextField","placeholder","required","multiline","rows","rowsMax","isProjectCreatedByGroupAdmin","grow","isProjectRejectedToGoLive","isDraftProject","isProjectWaitingToGoLive","isProjectSuccessful","isProjectFailed","isProjectInLivePledgePhase","isProjectWaitingForPledgeToBeCreated","isProjectWaitingForPledgeToBeChecked","isProjectInLivePitchPhase","isProjectPitchExpiredWaitingForAdminToCheck","KeyboardDatePicker","autoOk","inputVariant","format","minDate","InputAdornmentProps","position","isNaN","isProjectLive","isProjectTemporarilyClosed","presentationDocument","presentationText","dangerouslySetInnerHTML","__html","ops","InputBase","CommentReplyInputArea","DeleteIcon","fontSize","EditIcon","filter","supportingDocuments","financialRound","amountRaised","howFundIsBeingRaised","detailsAboutEarlierFundraisingRounds","qibSpecialNews","stt","shouldVoteDisabled","auth","uid","displayVote","yesVotes","noVotes","investorVoteIndex","MediaQueryState","manageGroupFromParams","manageInvestorSelfCertificationAgreement","manageSelectProjectVisibility","manageGroupFromParamsActions","expectedPath","currentPath","investorSelfCertificationAgreementsActions","pledgesTableActions","createPledgeDialogActions","selectProjectVisibilityActions","feedbackSnackbarActions","StyleSheet","create","faq_box","boxShadow","top","zIndex","minHeight","createSvgIcon","d","defaultIconMapping","success","SuccessOutlinedIcon","warning","ReportProblemOutlinedIcon","ErrorOutlineIcon","info","InfoOutlinedIcon","_ref","CloseIcon","_props$closeText","closeText","_props$iconMapping","iconMapping","_props$role","role","_props$severity","_props$variant","capitalize","IconButton","getColor","darken","lighten","getBackgroundColor","typography","body2","shape","standardSuccess","standardInfo","standardWarning","standardError","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","filledSuccess","fontWeight","fontWeightMedium","filledInfo","filledWarning","filledError","opacity","alignItems"],"ignoreList":[],"sourceRoot":""}